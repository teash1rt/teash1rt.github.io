<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>å‰ç«¯å·¥ç¨‹åŒ–</title>
      <link href="/2023/09/28/%E5%89%8D%E7%AB%AF%E5%B7%A5%E7%A8%8B%E5%8C%96/"/>
      <url>/2023/09/28/%E5%89%8D%E7%AB%AF%E5%B7%A5%E7%A8%8B%E5%8C%96/</url>
      
        <content type="html"><![CDATA[<h3 id="Prettier-å’Œ-Eslint">Prettier å’Œ Eslint</h3><ul><li>å®‰è£… Prettier</li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install prettier -D</span><br></pre></td></tr></table></figure><ul><li>é…ç½® Prettier</li></ul><p>æ ¹ç›®å½•ä¸‹åˆ›å»º<code>.prettierrc</code>å®šä¹‰è§„åˆ™</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;singleQuote&quot;</span><span class="punctuation">:</span> <span class="keyword">true</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;tabWidth&quot;</span><span class="punctuation">:</span> <span class="number">4</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;semi&quot;</span><span class="punctuation">:</span> <span class="keyword">false</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;trailingComma&quot;</span><span class="punctuation">:</span> <span class="string">&quot;none&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;endOfLine&quot;</span><span class="punctuation">:</span> <span class="string">&quot;auto&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;bracketSpacing&quot;</span><span class="punctuation">:</span> <span class="keyword">true</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;arrowParens&quot;</span><span class="punctuation">:</span> <span class="string">&quot;avoid&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;bracketSameLine&quot;</span><span class="punctuation">:</span> <span class="keyword">true</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;printWidth&quot;</span><span class="punctuation">:</span> <span class="number">130</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure><p><code>package.json</code>ä¸­æ·»åŠ å‘½ä»¤å®šä¹‰èŒƒå›´</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">&quot;scripts&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;format&quot;</span><span class="punctuation">:</span> <span class="string">&quot;prettier --write  \&quot;src/**/*.ts\&quot; \&quot;src/**/*.vue\&quot; \&quot;src/**/*.less\&quot;&quot;</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure><ul><li>å®‰è£… Eslint</li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm i eslint -D</span><br></pre></td></tr></table></figure><ul><li>åˆå§‹åŒ– Eslint</li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npx eslint --init</span><br></pre></td></tr></table></figure><p>åœ¨æœ€å<code>Would you like to install them now?</code>é€‰æ‹©<code>no</code></p><ul><li>å®‰è£…ä¾èµ–</li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm i -D eslint-plugin-vue@latest @typescript-eslint/eslint-plugin@latest @typescript-eslint/parser@latest eslint-config-prettier eslint-plugin-prettier</span><br></pre></td></tr></table></figure><ul><li>é…ç½® Eslint</li></ul><p>æ ¹ç›®å½•ä¸‹çš„<code>.eslintrc.cjs</code>å®šä¹‰è§„åˆ™</p><figure class="highlight cjs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = &#123;</span><br><span class="line">  <span class="attr">env</span>: &#123;</span><br><span class="line">    <span class="attr">browser</span>: <span class="literal">true</span>,</span><br><span class="line">    <span class="attr">es2021</span>: <span class="literal">true</span>,</span><br><span class="line">    <span class="attr">node</span>: <span class="literal">true</span>,</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">extends</span>: [</span><br><span class="line">    <span class="string">&quot;eslint:recommended&quot;</span>,</span><br><span class="line">    <span class="string">&quot;plugin:@typescript-eslint/recommended&quot;</span>,</span><br><span class="line">    <span class="string">&quot;plugin:vue/vue3-essential&quot;</span>,</span><br><span class="line">    <span class="string">&quot;plugin:prettier/recommended&quot;</span>,</span><br><span class="line">  ],</span><br><span class="line">  <span class="attr">overrides</span>: [</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="attr">env</span>: &#123;</span><br><span class="line">        <span class="attr">node</span>: <span class="literal">true</span>,</span><br><span class="line">      &#125;,</span><br><span class="line">      <span class="attr">files</span>: [<span class="string">&quot;.eslintrc.&#123;js,cjs&#125;&quot;</span>],</span><br><span class="line">      <span class="attr">parserOptions</span>: &#123;</span><br><span class="line">        <span class="attr">sourceType</span>: <span class="string">&quot;script&quot;</span>,</span><br><span class="line">      &#125;,</span><br><span class="line">    &#125;,</span><br><span class="line">  ],</span><br><span class="line">  <span class="attr">parserOptions</span>: &#123;</span><br><span class="line">    <span class="attr">ecmaVersion</span>: <span class="string">&quot;latest&quot;</span>,</span><br><span class="line">    <span class="attr">parser</span>: <span class="string">&quot;@typescript-eslint/parser&quot;</span>,</span><br><span class="line">    <span class="attr">sourceType</span>: <span class="string">&quot;module&quot;</span>,</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">plugins</span>: [<span class="string">&quot;@typescript-eslint&quot;</span>, <span class="string">&quot;vue&quot;</span>],</span><br><span class="line">  <span class="attr">rules</span>: &#123;</span><br><span class="line">    <span class="string">&quot;vue/multi-word-component-names&quot;</span>: <span class="number">0</span>,</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">ignorePatterns</span>: [<span class="string">&quot;dist/**&quot;</span>, <span class="string">&quot;node_modules/**&quot;</span>, <span class="string">&quot;coverage/**&quot;</span>],</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p><code>package.json</code>ä¸­æ·»åŠ å‘½ä»¤å®šä¹‰èŒƒå›´</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">&quot;scripts&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;lint&quot;</span><span class="punctuation">:</span> <span class="string">&quot;eslint . --ext .vue,.js,.ts,.jsx,.tsx --fix&quot;</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure><h3 id="æ‰“åŒ…ä¼˜åŒ–">æ‰“åŒ…ä¼˜åŒ–</h3><h4 id="GZIP-å’Œæ‰“åŒ…å¯è§†åŒ–">GZIP å’Œæ‰“åŒ…å¯è§†åŒ–</h4><ul><li>webpack</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">npm install webpack-bundle-analyzer -D</span><br><span class="line">npm install compression-webpack-plugin -D</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="title class_">BundleAnalyzerPlugin</span> = <span class="built_in">require</span>(<span class="string">&#x27;webpack-bundle-analyzer&#x27;</span>).<span class="property">BundleAnalyzerPlugin</span></span><br><span class="line"><span class="keyword">const</span> <span class="title class_">CompressionWebpackPlugin</span> = <span class="built_in">require</span>(<span class="string">&#x27;compression-webpack-plugin&#x27;</span>)</span><br><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = <span class="title function_">defineConfig</span>(&#123;</span><br><span class="line">  <span class="attr">configureWebpack</span>: &#123;</span><br><span class="line">    <span class="attr">plugins</span>: [</span><br><span class="line">      <span class="keyword">new</span> <span class="title class_">BundleAnalyzerPlugin</span>(),</span><br><span class="line">      <span class="keyword">new</span> <span class="title class_">CompressionWebpackPlugin</span>(&#123;</span><br><span class="line">        <span class="attr">test</span>: <span class="regexp">/\.(js|css)$/</span>,</span><br><span class="line">        <span class="attr">algorithm</span>: <span class="string">&#x27;gzip&#x27;</span>,</span><br><span class="line">        <span class="attr">threshold</span>: <span class="number">10240</span>, <span class="comment">// è¶…è¿‡10kbçš„æ–‡ä»¶å°±å‹ç¼©</span></span><br><span class="line">        <span class="attr">deleteOriginalAssets</span>: <span class="literal">false</span>,</span><br><span class="line">        <span class="attr">minRatio</span>: <span class="number">0.8</span></span><br><span class="line">      &#125;)</span><br><span class="line">    ]</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><ul><li>vite</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">npm install vite-plugin-compression -D</span><br><span class="line">npm install rollup-plugin-visualizer -D</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> &#123; visualizer &#125; <span class="keyword">from</span> <span class="string">&#x27;rollup-plugin-visualizer&#x27;</span></span><br><span class="line"><span class="keyword">import</span> viteCompression <span class="keyword">from</span> <span class="string">&#x27;vite-plugin-compression&#x27;</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="title function_">defineConfig</span>(&#123;</span><br><span class="line">  <span class="attr">plugins</span>: [</span><br><span class="line">    <span class="title function_">visualizer</span>(&#123;</span><br><span class="line">      <span class="attr">open</span>: <span class="literal">true</span>,</span><br><span class="line">      <span class="attr">filename</span>: <span class="string">&quot;stats.html&quot;</span>,</span><br><span class="line">      <span class="attr">gzipSize</span>: <span class="literal">true</span></span><br><span class="line">    &#125;),</span><br><span class="line">    <span class="title function_">viteCompression</span>(&#123;</span><br><span class="line">      <span class="attr">algorithm</span>: <span class="string">&#x27;gzip&#x27;</span>,</span><br><span class="line">      <span class="attr">threshold</span>: <span class="number">10240</span></span><br><span class="line">    &#125;)</span><br><span class="line">  ]</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><h4 id="CDN">CDN</h4><ul><li>webpack</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// é¦–å…ˆåœ¨configé…ç½®</span></span><br><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = <span class="title function_">defineConfig</span>(&#123;</span><br><span class="line">  <span class="attr">configureWebpack</span>: &#123;</span><br><span class="line">    <span class="attr">externals</span>: &#123;</span><br><span class="line">      <span class="string">&#x27;echarts&#x27;</span>: <span class="string">&#x27;echarts&#x27;</span>,</span><br><span class="line">      <span class="string">&#x27;axios&#x27;</span>: <span class="string">&#x27;axios&#x27;</span>,</span><br><span class="line">      <span class="string">&#x27;moment&#x27;</span>: <span class="string">&#x27;moment&#x27;</span>,</span><br><span class="line">      <span class="string">&#x27;js-cookie&#x27;</span>: <span class="string">&#x27;Cookies&#x27;</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">// ç„¶ååœ¨index.htmlé…ç½®</span></span><br><span class="line">&lt;body&gt;</span><br><span class="line">  <span class="language-xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">  <span class="language-xml"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;https://cdn.bootcdn.net/ajax/libs/axios/1.3.6/axios.min.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line">  <span class="language-xml"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;https://cdn.bootcdn.net/ajax/libs/echarts/5.4.2/echarts.common.min.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line">  <span class="language-xml"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;https://cdn.bootcdn.net/ajax/libs/moment.js/2.29.4/moment.min.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line">  <span class="language-xml"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;https://cdn.bootcdn.net/ajax/libs/js-cookie/latest/js.cookie.min.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line">&lt;/body&gt;</span><br></pre></td></tr></table></figure><ul><li>vite</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">npm install vite-plugin-cdn-<span class="keyword">import</span> -D</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> importToCDN <span class="keyword">from</span> <span class="string">&#x27;vite-plugin-cdn-import&#x27;</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="title function_">defineConfig</span>(&#123;</span><br><span class="line">  <span class="attr">plugins</span>: [</span><br><span class="line">    <span class="title function_">importToCDN</span>(&#123;</span><br><span class="line">      <span class="attr">modules</span>: [</span><br><span class="line">        &#123;</span><br><span class="line">          <span class="attr">name</span>: <span class="string">&#x27;monaco-editor&#x27;</span>,</span><br><span class="line">          <span class="attr">var</span>: <span class="string">&#x27;monaco&#x27;</span>,</span><br><span class="line">          <span class="attr">path</span>: <span class="string">&#x27;https://cdn.jsdelivr.net/npm/monaco-editor@0.34.0/min/vs&#x27;</span></span><br><span class="line">        &#125;</span><br><span class="line">      ]</span><br><span class="line">    &#125;)</span><br><span class="line">  ]</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> å‰ç«¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> vue </tag>
            
            <tag> å‰ç«¯ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>vue-springbooté¡¹ç›®éƒ¨ç½²</title>
      <link href="/2022/10/12/vue-springboot-mysql%E9%A1%B9%E7%9B%AE%E9%83%A8%E7%BD%B2/"/>
      <url>/2022/10/12/vue-springboot-mysql%E9%A1%B9%E7%9B%AE%E9%83%A8%E7%BD%B2/</url>
      
        <content type="html"><![CDATA[<blockquote><p>è®°å½• <code>vue + springboot</code> é¡¹ç›®éƒ¨ç½²åœ¨ <code>ubuntu20.04</code> äº‘æœåŠ¡å™¨ä¸Šçš„è¿‡ç¨‹å’Œéƒ¨åˆ†ç»†èŠ‚ ğŸ˜€</p></blockquote><h3 id="nginx-éƒ¨ç½²-vue-é¡¹ç›®"><code>nginx</code> éƒ¨ç½² <code>vue</code> é¡¹ç›®</h3><ul><li>éƒ¨ç½² <code>nginx</code> ç¯å¢ƒ</li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get install nginx</span><br></pre></td></tr></table></figure><ul><li><code>nginx</code> é»˜è®¤é…ç½®æ–‡ä»¶è·¯å¾„</li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vim /etc/nginx/sites-available/default</span><br></pre></td></tr></table></figure><ul><li><code>nginx</code> æ¨¡æ¿ä»£ç </li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">rootä¸ºé¡¹ç›®è·¯å¾„</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">vueé¡¹ç›®æ³¨æ„ä½¿ç”¨try_filesè¿™è¡Œé˜²æ­¢404BUG</span></span><br><span class="line">server &#123;</span><br><span class="line">     listen 9010;</span><br><span class="line">     server_name _;</span><br><span class="line">     gzip: on;     # å¦‚æœé¡¹ç›®å¼€å¯äº†gzipå‹ç¼©</span><br><span class="line">     location / &#123;</span><br><span class="line">         root /var/www/html/chess-app/dist;</span><br><span class="line">         index index.html index.htm index.nginx-debian.html;</span><br><span class="line">         try_files $uri $uri/ /index.html;</span><br><span class="line">     &#125;</span><br><span class="line"></span><br><span class="line">     # å¦‚æœvueé¡¹ç›®ä¸­å¯¹è·¨åŸŸè¿›è¡Œäº†proxyé…ç½®</span><br><span class="line">     location /api &#123;</span><br><span class="line">rewrite ^/api/(.*)$ /$1 break;</span><br><span class="line">proxy_pass http://152.136.154.181:8060;     #åå°æ¥å£åœ°å€</span><br><span class="line">proxy_set_header X-Real-IP $remote_addr;</span><br><span class="line">proxy_set_header X-Forwarded-For $remote_addr;</span><br><span class="line">&#125;</span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure><h3 id="éƒ¨ç½²-springboot-é¡¹ç›®">éƒ¨ç½² <code>springboot</code> é¡¹ç›®</h3><ul><li>éƒ¨ç½² <code>java8</code> ç¯å¢ƒ</li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get install openjdk-8-jdk</span><br></pre></td></tr></table></figure><ul><li>å¼€å¯ <code>springboot</code> é¡¹ç›®æ°¸ä¹…éƒ¨ç½²ï¼ˆä½¿ç”¨æ­¤æ–¹æ³•é‡æ–°éƒ¨ç½²æ—¶éœ€è¦æ€æ‰æ­¤ç«¯å£çš„é¡¹ç›®è¿›ç¨‹ï¼‰</li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nohup java -jar ToDoList-backend-0.0.1-SNAPSHOT.jar &amp;</span><br></pre></td></tr></table></figure><ul><li>æŸ¥çœ‹ç«¯å£å ç”¨ï¼ˆ<code>springboot</code> é»˜è®¤ç«¯å£å·ä¸º 8060ï¼‰</li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo lsof -i:8060</span><br></pre></td></tr></table></figure><ul><li>å…³é—­æŒ‡å®š <code>PID</code> çš„è¿›ç¨‹</li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo kill -9 &lt;PID&gt;</span><br></pre></td></tr></table></figure><ul><li>å¯ç”¨è„šæœ¬è‡ªåŠ¨åŒ–ä¸Šè¿°è¿‡ç¨‹</li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">#</span><span class="language-bash">! /bin/bash</span></span><br><span class="line">kill -9 `sudo lsof -i:8060`</span><br><span class="line"></span><br><span class="line">rm nohup.out</span><br><span class="line"></span><br><span class="line">nohup java -jar ToDoList-backend-0.0.1-SNAPSHOT.jar &amp;</span><br><span class="line"></span><br><span class="line">echo &#x27;already rebuild! --  http://152.136.154.181:8060/api/test&#x27;</span><br></pre></td></tr></table></figure><h3 id="éƒ¨ç½²-mysql">éƒ¨ç½² <code>mysql</code></h3><blockquote><p>è¯¥éƒ¨åˆ†åŸä½œè€… <a href="https://github.com/Zzzz0zzzZ">Zzzz0zzzZ (Zzzz0_0zzzZ) (github.com) </a>ğŸ˜˜</p></blockquote><ul><li>éƒ¨ç½² <code>mysql</code> ç¯å¢ƒ</li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo apt install mysql-server</span><br><span class="line">sudo apt-get install mysql-client</span><br></pre></td></tr></table></figure><ul><li>åˆ›å»ºç”¨æˆ·è®¾ç½®å¯†ç </li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">æŸ¥çœ‹é»˜è®¤â½¤æˆ·åã€å¯†ç </span></span><br><span class="line">sudo cat /etc/mysql/debian.cnf</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">ç™»é™†rootâ½¤æˆ·</span></span><br><span class="line">sudo mysql -u &quot;â½‚ä»¶ä¸­çš„userå&quot; -p</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">--&gt;â¾¸æ¬¡ä½¿â½¤sudoï¼Œå…ˆè¾“â¼Šsudoå¯†ç ï¼Œç„¶åè¾“â¼Šuserçš„å¯†ç </span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">è¿›â¼Šmysqlï¼Œåˆ›å»ºæ–°â½¤æˆ·å’Œå¯†ç ,å¹¶æˆæƒ</span></span><br><span class="line">create user &quot;â½¤æˆ·å&quot;@&quot;%&quot; identified by &quot;å¯†ç &quot;;</span><br><span class="line">flush privileges;</span><br><span class="line">grant all privileges on *.* to &quot;â½¤æˆ·å&quot;@&quot;%&quot;;</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">æ³¨ï¼šåˆ é™¤â½¤æˆ·</span></span><br><span class="line">drop user &quot;â½¤æˆ·å&quot;@&quot;%&quot;</span><br></pre></td></tr></table></figure><ul><li>ä¿®æ”¹é…ç½®æ–‡ä»¶</li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">ä½¿â½¤vimç¼–è¾‘å™¨ï¼Œæ³¨æ„â½‚ä»¶æ˜¯mysqld.cnf,åˆ«å°‘äº†<span class="string">&#x27;d&#x27;</span></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">æ‰¾åˆ°bind-addressï¼Œä¿®æ”¹127.0.0.1ä¸º0.0.0.0ï¼Œä»£è¡¨å…¨ipå¯â½¤</span></span><br><span class="line">sudo vim /etc/mysql/mysql.conf.d/mysqld.cnf</span><br></pre></td></tr></table></figure><ul><li>å¸¸ç”¨å‘½ä»¤</li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">sudo service mysql start</span><br><span class="line">sudo service mysql stop</span><br><span class="line">sudo service mysql restart</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">ç™»å½•mysql</span></span><br><span class="line">sudo mysql -u â½¤æˆ·å -p</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">æŸ¥çœ‹æ•°æ®åº“</span></span><br><span class="line">show databases;</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">è¿›å…¥æ•°æ®åº“ï¼Œä½¿ç”¨useå¯ç›´æ¥åˆ‡æ¢æ•°æ®åº“ï¼Œæ— éœ€é€€å‡º</span></span><br><span class="line">use &lt;`database`&gt;</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">æŸ¥çœ‹æ•°æ®åº“ä¸­çš„è¡¨</span></span><br><span class="line">show tables;</span><br></pre></td></tr></table></figure><h3 id="éƒ¨ç½²Redis">éƒ¨ç½²<code>Redis</code></h3><blockquote><p>2022.12.06 æ˜¯ä¸ªå€¼å¾—çºªå¿µçš„æ—¥å­ï¼Œé¦–æ¬¡è¢«é»‘å®¢æ”»å‡»äº†æï¼Œå°±æ˜¯å› ä¸ºéƒ¨ç½²æ—¶å€™æ²¡æœ‰è®¾ç½®å¯†ç </p></blockquote><ul><li>ä½¿ç”¨<code>sudo vim /etc/redis/redis.conf</code> ç¼–è¾‘é…ç½®æ–‡ä»¶ <code>redis.conf</code></li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash"><span class="built_in">bind</span> 192.168.1.100 10.0.0.1</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash"><span class="built_in">bind</span> 127.0.0.1 ::1</span></span><br><span class="line">bind 127.0.0.1 &lt;æœåŠ¡å™¨åœ°å€&gt;</span><br><span class="line"></span><br><span class="line">protected-mode no</span><br><span class="line"></span><br><span class="line">port &lt;ç«¯å£å·&gt;</span><br><span class="line"></span><br><span class="line">tcp-backlog 511</span><br><span class="line"></span><br><span class="line">requirepass &lt;å¯†ç &gt;</span><br><span class="line"></span><br><span class="line">timeout 500</span><br><span class="line"></span><br><span class="line">tcp-keepalive 300</span><br><span class="line"></span><br><span class="line">daemonize yes</span><br><span class="line"></span><br><span class="line">supervised no</span><br><span class="line"></span><br><span class="line">pidfile /var/run/redis_5378.pid</span><br><span class="line"></span><br><span class="line">loglevel notice</span><br><span class="line"></span><br><span class="line">logfile &quot;&quot;</span><br><span class="line"></span><br><span class="line">databases 30</span><br><span class="line"></span><br><span class="line">always-show-logo yes</span><br><span class="line"></span><br><span class="line">save 900 1</span><br><span class="line">save 300 10</span><br><span class="line">save 60 10000</span><br><span class="line"></span><br><span class="line">stop-writes-on-bgsave-error yes</span><br><span class="line"></span><br><span class="line">rdbcompression yes</span><br><span class="line"></span><br><span class="line">rdbchecksum yes</span><br><span class="line"></span><br><span class="line">dbfilename dump.rdb</span><br><span class="line"></span><br><span class="line">dir ./</span><br><span class="line"></span><br><span class="line">replica-serve-stale-data yes</span><br><span class="line"></span><br><span class="line">replica-read-only yes</span><br><span class="line"></span><br><span class="line">repl-diskless-sync no</span><br><span class="line"></span><br><span class="line">repl-disable-tcp-nodelay no</span><br><span class="line"></span><br><span class="line">replica-priority 100</span><br><span class="line"></span><br><span class="line">lazyfree-lazy-eviction no</span><br><span class="line">lazyfree-lazy-expire no</span><br><span class="line">lazyfree-lazy-server-del no</span><br><span class="line">replica-lazy-flush no</span><br><span class="line"></span><br><span class="line">appendonly yes</span><br><span class="line"></span><br><span class="line">appendfilename &quot;appendonly.aof&quot;</span><br><span class="line"></span><br><span class="line">no-appendfsync-on-rewrite no</span><br><span class="line"></span><br><span class="line">auto-aof-rewrite-percentage 100</span><br><span class="line">auto-aof-rewrite-min-size 64mb</span><br><span class="line"></span><br><span class="line">aof-load-truncated yes</span><br><span class="line"></span><br><span class="line">aof-use-rdb-preamble yes</span><br><span class="line"></span><br><span class="line">lua-time-limit 5000</span><br><span class="line"></span><br><span class="line">slowlog-max-len 128</span><br><span class="line"></span><br><span class="line">notify-keyspace-events &quot;&quot;</span><br><span class="line"></span><br><span class="line">hash-max-ziplist-entries 512</span><br><span class="line">hash-max-ziplist-value 64</span><br><span class="line"></span><br><span class="line">list-max-ziplist-size -2</span><br><span class="line"></span><br><span class="line">list-compress-depth 0</span><br><span class="line"></span><br><span class="line">set-max-intset-entries 512</span><br><span class="line"></span><br><span class="line">zset-max-ziplist-entries 128</span><br><span class="line">zset-max-ziplist-value 64</span><br><span class="line"></span><br><span class="line">hll-sparse-max-bytes 3000</span><br><span class="line"></span><br><span class="line">stream-node-max-bytes 4096</span><br><span class="line">stream-node-max-entries 100</span><br><span class="line"></span><br><span class="line">activerehashing yes</span><br><span class="line"></span><br><span class="line">hz 10</span><br><span class="line"></span><br><span class="line">dynamic-hz yes</span><br><span class="line"></span><br><span class="line">aof-rewrite-incremental-fsync yes</span><br><span class="line"></span><br><span class="line">rdb-save-incremental-fsync yes</span><br></pre></td></tr></table></figure><ul><li>ä¿®æ”¹é…ç½®æ–‡ä»¶åé‡å¯</li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">cd /etc/redis</span><br><span class="line">/bin/redis-server redis.conf</span><br></pre></td></tr></table></figure><ul><li>redis-cli -p <code>&lt;ç«¯å£&gt;</code> -a <code>&lt;å¯†ç &gt;</code> è¿æ¥è¿›å…¥<code>redis</code></li></ul><h3 id="éƒ¨ç½²MongoDB">éƒ¨ç½²<code>MongoDB</code></h3><blockquote><p>MongoDB å»ºè®®ä½¿ç”¨ docker è¿›è¡Œéƒ¨ç½²</p></blockquote><ul><li>æ‹‰å–é•œåƒ <code>docker pull mongo:latest</code></li><li>åˆ›å»ºå¹¶è¿è¡Œå®¹å™¨ <code>docker run -itd --name mongo-test -p &lt;è‡ªå®šä¹‰ç«¯å£å·&gt;:27017 mongo --auth</code></li><li>è¿›å…¥å®¹å™¨ <code>docker exec -it  mongo-test mongosh</code></li><li>åˆ›å»ºç®¡ç†å‘˜å’Œç”¨æˆ·</li></ul><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">use admin</span><br><span class="line"></span><br><span class="line">#åˆ›å»ºç®¡ç†å‘˜ç”¨æˆ·</span><br><span class="line">db.createUser(&#123;</span><br><span class="line">    <span class="keyword">user</span>: &quot;admin&quot;,</span><br><span class="line">    pwd: &quot;XXX&quot;,</span><br><span class="line">    roles: [ &#123; role: &quot;userAdminAnyDatabase&quot;, db: &quot;admin&quot; &#125; ]</span><br><span class="line">&#125;)</span><br><span class="line">db.createUser(&#123;</span><br><span class="line">    <span class="keyword">user</span>: <span class="string">&#x27;Teashirt&#x27;</span>,</span><br><span class="line">    pwd: <span class="string">&#x27;XXX&#x27;</span>,</span><br><span class="line">    roles: [&#123;role: &quot;readWrite&quot;, db: &quot;admin&quot;&#125;]</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> é¡¹ç›®éƒ¨ç½² </category>
          
      </categories>
      
      
        <tags>
            
            <tag> vue </tag>
            
            <tag> Springboot </tag>
            
            <tag> é¡¹ç›®éƒ¨ç½² </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>git&amp;ssh&amp;docker</title>
      <link href="/2022/06/28/git-ssh-docker/"/>
      <url>/2022/06/28/git-ssh-docker/</url>
      
        <content type="html"><![CDATA[<h3 id="git">git</h3><hr><p>git éƒ¨åˆ†ç”±äºç°åœ¨å¤§å¤šæ˜¯ä¸ªäººå¼€å‘æ‰€ä»¥<code>rebase</code> å’Œ <code>pull request</code> éƒ½æ²¡æœ‰è®°å½•</p><h4 id="æäº¤ä¸æŸ¥çœ‹">æäº¤ä¸æŸ¥çœ‹</h4><ul><li>git add <code>&lt;filename&gt;</code> / git add .<ul><li>git stash clear æ¸…ç©ºæš‚å­˜ç©ºé—´</li><li>git reset <code>&lt;filename&gt;</code> å°†å·²ç» add ä½†æ²¡ commit çš„æ–‡ä»¶ç§»é™¤</li></ul></li><li>git commit -m <code>&lt;message&gt;</code></li><li>git status / git log / git relog</li><li>git rebase -i HEAD~<code>&lt;number&gt;</code> å‹ç¼©æäº¤</li></ul><h4 id="å›é€€">å›é€€</h4><ul><li>git reset --hard <code>&lt;commitID&gt;</code> ä¸ä¿å­˜æ‰€æœ‰å˜æ›´</li><li>git reset --mixed <code>&lt;commitID&gt;</code> å›é€€æäº¤ä½†ä¿ç•™æ›´æ”¹</li></ul><h4 id="åˆ†æ”¯">åˆ†æ”¯</h4><ul><li>git checkout -b <code>&lt;name&gt;</code> <code>&lt;template&gt;</code> ä»¥ template ä¸ºæ¨¡æ¿å»ºç«‹ä»¥ name ä¸ºåçš„æ–°åˆ†æ”¯</li><li>git branch -a æŸ¥çœ‹æœ¬åœ°å’Œè¿œç¨‹åˆ†æ”¯<ul><li>git branch æŸ¥çœ‹æœ¬åœ°åˆ†æ”¯</li><li>git branch -r æŸ¥çœ‹è¿œç¨‹åˆ†æ”¯</li></ul></li><li>git checkout <code>&lt;BrachName&gt;</code> åˆ‡æ¢åˆ†æ”¯</li><li>git config --global init.defaultBranch main è®¾ç½®é»˜è®¤åˆ†æ”¯ä¸º main</li><li>git branch -d <code>&lt;Local-BranchName&gt;</code> åˆ é™¤æœ¬åœ°åˆ†æ”¯</li><li>git push origin --delete <code>&lt;Remote-BranchName&gt;</code> åˆ é™¤è¿œç¨‹åˆ†æ”¯</li></ul><h4 id="åˆå¹¶">åˆå¹¶</h4><ul><li>git merge <code>&lt;BranchName&gt;</code> åˆå¹¶åˆ†æ”¯çš„å˜æ›´</li><li>git rebase <code>&lt;BranchName&gt;</code> å˜åŸºåˆ†æ”¯</li></ul><h4 id="ä»“åº“">ä»“åº“</h4><ul><li>git remote add origin <code>&lt;link&gt;</code><ul><li>git remote -v æŸ¥çœ‹ä»“åº“è¿æ¥çŠ¶æ€</li></ul></li><li>git clone <code>&lt;link&gt;</code></li><li>git push origin <code>&lt;Local-BranchName&gt;</code><ul><li>åŸå‘½ä»¤ git push origin <code>&lt;Local-BranchName&gt;</code>:<code>&lt;Remote-BranchName&gt;</code></li><li>git push -f origin master å¼ºåˆ¶æ¨é€</li><li>git push origin --delete <code>&lt;Remote-BranchName&gt;</code> åˆ é™¤è¿œç¨‹ä¸»æœºçš„ master çš„è¯¥åˆ†æ”¯</li></ul></li><li>git push --set-upstream origin <code>&lt;Local-BranchName&gt;</code></li><li>git pull origin <code>&lt;Remote-BranchName&gt;</code>:<code>&lt;Local-BranchName&gt;</code> åŒæ—¶å®Œæˆ fetch å’Œ merge çš„æ“ä½œ</li></ul><h4 id="æäº¤è§„èŒƒ-type-éƒ¨åˆ†">æäº¤è§„èŒƒ(type éƒ¨åˆ†)</h4><ul><li>syncï¼šåŒæ­¥ä¸»çº¿æˆ–åˆ†æ”¯çš„ bug</li><li>mergeï¼šä»£ç åˆå¹¶</li><li>revertï¼šå›æ»šåˆ°ä¸Šä¸€ä¸ªç‰ˆæœ¬</li><li>choreï¼šæ„å»ºè¿‡ç¨‹æˆ–è¾…åŠ©å·¥å…·çš„å˜åŠ¨</li><li>testï¼šå¢åŠ æµ‹è¯•</li><li>perfï¼šä¼˜åŒ–ç›¸å…³ï¼Œæ¯”å¦‚æå‡æ€§èƒ½ã€ä½“éªŒ</li><li>refactorï¼šé‡æ„ï¼ˆæ—¢ä¸æ˜¯æ–°å¢åŠŸèƒ½ï¼Œä¹Ÿä¸æ˜¯ä¿®æ”¹ bug çš„ä»£ç å˜åŠ¨ï¼‰</li><li>styleï¼šæ ¼å¼ï¼ˆä¸å½±å“ä»£ç è¿è¡Œçš„å˜åŠ¨ï¼‰</li><li>docsï¼šæ–‡æ¡£</li><li>fix / toï¼šä¿®å¤ bug</li><li>featï¼šæ–°åŠŸèƒ½</li></ul><h3 id="ssh">ssh</h3><hr><h4 id="ç™»é™†ä¸é…ç½®">ç™»é™†ä¸é…ç½®</h4><ul><li><p>ssh-keygen åˆ›å»º rsa å¯†é’¥</p></li><li><p>åœ¨ .ssh/config ä¸‹é…ç½®æœåŠ¡å™¨ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Host myserver</span><br><span class="line">HostName å…¬ç½‘ip</span><br><span class="line">User ç”¨æˆ·å</span><br></pre></td></tr></table></figure></li><li><p>ssh-copy-id <code>&lt;ServerName&gt;</code> å…å¯†ç™»å½•</p><ul><li>ç„¶åç›´æ¥ä½¿ç”¨ ssh myserver å³å¯ç›´æ¥ç™»å½•</li></ul></li><li><p>ssh <code>&lt;User&gt;</code>@<code>&lt;HostName&gt;</code> -p <code>&lt;PortNumber&gt;</code></p><ul><li>ä½¿ç”¨ç”¨æˆ·å User ç™»å½•ç«¯å£å·ä¸º PortNumber çš„ä¸»æœºåä¸º HostName çš„æœåŠ¡å™¨</li><li>å®ä¾‹ï¼š ssh <a href="mailto:acs@152.136.154.181">acs@152.136.154.181</a> -p 20000</li></ul></li></ul><h4 id="ä¼ æ–‡ä»¶">ä¼ æ–‡ä»¶</h4><ul><li><p>æœ¬åœ° ==&gt; æœåŠ¡å™¨</p><ul><li>ä¼ æ–‡ä»¶</li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">scp  /home/test/hello.txt myserver: #ç›´æ¥å¤åˆ¶åœ¨æ ¹ç›®å½•</span><br><span class="line">scp  /home/test/hello.txt myserver:/home/temp</span><br><span class="line">scp index.html style.css json.js myserver:/web #å¤šæ–‡ä»¶</span><br></pre></td></tr></table></figure><ul><li>ä¼ æ–‡ä»¶å¤¹ ï¼šä½¿ç”¨ -r é€’å½’å¤åˆ¶</li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">scp -r /data myserver:/home/des #æŠŠdataæ”¾åœ¨desç›®å½•ä¸‹</span><br></pre></td></tr></table></figure></li><li><p>æœåŠ¡å™¨ ==&gt; æœ¬åœ°</p><ul><li>ä¼ æ–‡ä»¶</li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">scp myserver:/main.cpp /home/code</span><br><span class="line">scp myserver:/conf.js . #æŠŠconf.jså¤åˆ¶åœ¨æœ¬åœ°å½“å‰è·¯å¾„</span><br></pre></td></tr></table></figure><ul><li>ä¼ æ–‡ä»¶å¤¹</li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">scp -r myserver:working .</span><br></pre></td></tr></table></figure></li></ul><h3 id="docker">docker</h3><hr><p>å®˜ç½‘ï¼š<a href="https://docs.docker.com/engine/install/linux-postinstall/">Post-installation steps for Linux | Docker Documentation</a></p><p>dockerhubï¼š<a href="https://hub.docker.com/">dockerhub</a></p><h4 id="å®‰è£…">å®‰è£…</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get update</span><br><span class="line">sudo apt install docker.io </span><br></pre></td></tr></table></figure><h4 id="é•œåƒ">é•œåƒ</h4><ul><li>docker pull xxx æ‹‰å–æŸé•œåƒ</li><li>docker rmi xxx åˆ é™¤æŸé•œåƒ</li><li>docker save -o <code>&lt;Name&gt;</code>.tar <code>&lt;ImageName&gt;</code> å°†è¿™ä¸ªé•œåƒå¯¼å‡ºåˆ°æœ¬åœ° Name.tar æ–‡ä»¶ä¸­</li><li>docker load -i <code>&lt;Name&gt;</code>.tar å°†è¿™ä¸ªé•œåƒæ–‡ä»¶åŠ è½½å‡ºæ¥</li></ul><h4 id="å®¹å™¨">å®¹å™¨</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">docker run -it ubuntu:20.04    #åˆ›å»ºå¹¶è¿›å…¥ä¸€ä¸ªubuntu20.04å®¹å™¨</span><br><span class="line"></span><br><span class="line">docker run -it --name redis-test -p 6379:6379 redis:latest /bin/bash    #åˆ›å»ºå¹¶è¿›å…¥ä¸€ä¸ªrediså®¹å™¨</span><br><span class="line">redis-cli    #å¼€å¯redisæœåŠ¡</span><br></pre></td></tr></table></figure><ul><li>ä¼ æ–‡ä»¶<ul><li>docker cp /è·¯å¾„/æ–‡ä»¶å å®¹å™¨ ID:/ä¸Šä¼ è·¯å¾„</li><li>docker cp å®¹å™¨ ID:/ä¸Šä¼ è·¯å¾„ /è·¯å¾„/æ–‡ä»¶å</li></ul></li><li>docker start <code>&lt;ContainerName&gt;</code> å¯åŠ¨å®¹å™¨ï¼ŒåŒç†æœ‰ stop rm restart</li><li>docker exec -itd <code>&lt;ContainerName&gt;</code> /bin/bash è¿›å…¥å®¹å™¨<ul><li>ctrl+p + ctrl+q æŒ‚èµ·åé€€å‡º</li></ul></li><li>docker export -o <code>&lt;Name&gt;</code>.tar <code>&lt;ContainerName&gt;</code> å°†å®¹å™¨å¯¼å‡ºåˆ°æœ¬åœ°</li><li>docker import <code>&lt;Name&gt;</code>.tar <code>&lt;ContainerName&gt;</code> å°†æ–‡ä»¶å¯¼å…¥æˆé•œåƒå¹¶å‘½åä¸º ContainerName</li><li>docker commit <code>&lt;ContainerName&gt;</code> <code>&lt;REPOSITORY:TAG&gt;</code>ä»å®¹å™¨åˆ›å»ºä¸€ä¸ªæ–°çš„é•œåƒ</li></ul>]]></content>
      
      
      <categories>
          
          <category> Linuxå¼€å‘ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Linuxå¼€å‘ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æœ¬ç«™å¯¼èˆª</title>
      <link href="/2022/06/17/%E6%9C%AC%E7%AB%99%E5%AF%BC%E8%88%AA/"/>
      <url>/2022/06/17/%E6%9C%AC%E7%AB%99%E5%AF%BC%E8%88%AA/</url>
      
        <content type="html"><![CDATA[<h3 id="hello-æ¬¢è¿æ¥åˆ°æˆ‘çš„åšå®¢ï¼ğŸ˜„">hello æ¬¢è¿æ¥åˆ°æˆ‘çš„åšå®¢ï¼ğŸ˜„</h3><blockquote><p>some of æœ€è¿‘<br>2023.9.26 çœŸçš„å¼€æ‘†è¾£ï¼</p></blockquote><h3 id="æ›´æ–°è®¡åˆ’">æ›´æ–°è®¡åˆ’</h3><p>æš‚å®šæ›´æ–°ä¸¤æ–¹é¢å†…å®¹ ğŸ‘‡</p><h4 id="å¼€å‘">å¼€å‘</h4><ul><li>å‰ç«¯</li><li>åç«¯</li><li>ç®—æ³•</li><li>å…¶ä»–ï¼Ÿ<br><br></li></ul><h4 id="ç”Ÿæ´»">ç”Ÿæ´»</h4><blockquote><p>å‡†å¤‡å…ˆå†™ç‚¹å¯¹éŸ³ä¹ç”µå½±å’Œä¹¦çš„å›å¿†<br>æ…¢æ…¢å¡«å‘ï¼Œæ–‡ç¬”æå·®ç®—æ˜¯ç•™ç»™è‡ªå·±å§</p></blockquote><ul><li>è®°é‚£äº›å‡ºç°åœ¨æˆ‘ç”Ÿæ´»ä¸åŒé˜¶æ®µçš„æµè¡Œä¹ä»¬</li><li>â€¦to be continued</li></ul><hr><h3 id="é—®é¢˜ä»¬">é—®é¢˜ä»¬</h3><ul><li><strong>å…³äºåšå®¢çš„æ­å»ºï¼Ÿ</strong></li><li>è¿™ä¸ªåšå®¢ç”¨çš„æ˜¯ hexo æ¡†æ¶ï¼Œä¸»é¢˜æ˜¯ butterflyã€‚ä¹‹å‰æƒ³çš„æ˜¯æ‰‹å†™ä¸€ä¸ªï¼Œä½†é€ å¥½çš„å¤§è½®å­è°ä¼šä¸çˆ±å‘¢ ğŸ˜<br><br/></li><li><strong>å…³äºåšå®¢åˆå¡åˆæ…¢ï¼Ÿ</strong></li><li>åšå®¢æš‚æ—¶å»ºåœ¨äº† github ä¸Šï¼Œæ‰€ä»¥ç½‘ç«™åŠ è½½é€Ÿåº¦ä¼šéå¸¸çš„ç„å­¦ï¼Œæœ‰æ—¶ä½ å¯èƒ½éœ€è¦é­”æ³•</li><li>ç»ˆäºåœ¨æœåŠ¡å™¨ä¸Šéƒ¨ç½²äº†ï¼ğŸ˜˜ ï¼ˆä½†æ˜¯æœåŠ¡å™¨åˆ°æœŸäº†ğŸ˜­ğŸ˜­ğŸ˜­ï¼‰<br><br/></li><li><strong>å…³äºåšå®¢çš„åå­—ä»¬ï¼Ÿ</strong></li><li>Marianne: æºäºè‹±å‰§ normal peopleï¼Œå½“æ—¶è§‰å¾—è¿™ä¸ªåå­—ç”¨è‹±å¼è¯»æ³•å¿µèµ·æ¥å¾ˆå¥½å¬ï¼Œè™½ç„¶å¯¹å‰§æƒ…ä¸æ„Ÿå†’ä½†æœ€åè¿˜æ˜¯æŠŠè¿™ä¸ªåå­—è®°äº†ä¸‹æ¥</li><li>Teashirt: æºäºä¹‹å‰å¾ˆå–œæ¬¢çš„æ­Œï¼Œè¿˜æƒ³ç€ Teashirt è¿™ä¸ªè¯å¾ˆæœ‰æ„å¢ƒï¼Œç»“æœæœ€åå‘ç°å°±æ˜¯å¬é”™äº†äººå®¶å°±å« Teeshirt ğŸ˜“<br><br/></li><li><strong>å…³äºæˆ‘ï¼Ÿ</strong></li><li>æ¬¢è¿æ¥åˆ†äº«äº¤æµ ğŸ˜‹<ul><li><a href="https://github.com/teashirtt">github</a></li><li><a href="https://music.163.com/#/user/home?id=1742940683">ç½‘æ˜“äº‘</a></li><li><a href="https://www.douban.com/people/162740521/?_i=64185393jFRx07,64185423jFRx07">è±†ç“£</a></li><li><a href="https://steamcommunity.com/profiles/76561198931408870/">steam</a></li><li><a href="https://leetcode.cn/u/east-of-eden-k/">leetcode</a></li></ul></li></ul>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>vueå°è®°</title>
      <link href="/2022/06/17/vue%E5%B0%8F%E8%AE%B0/"/>
      <url>/2022/06/17/vue%E5%B0%8F%E8%AE%B0/</url>
      
        <content type="html"><![CDATA[<blockquote><p>è¿™é‡Œä»…çš„è®°å½•æˆ‘åœ¨ä½¿ç”¨ vue è¿‡ç¨‹ä¸­è¸©è¿‡çš„å‘å’Œå¸¸ç”¨çš„ä»£ç æ¿å­</p><p>æœ¬æ–‡æ ‡é¢˜é—´æ¯«æ— é€»è¾‘å…³ç³»ï¼Œçº¯ç²¹æƒ³åˆ°å“ªè®°åˆ°å“ª</p><p>æœ¬æ–‡ä¼šé•¿æœŸæ›´æ–°ï¼Œç›´åˆ°ä¸‹åˆ—è¡¨è¾¾å¼ä¸ºçœŸ ï¼ˆvue å®Œå…¨å¼ƒå‘ or æˆä¸ºä¸çŠ¯é”™è¯¯çš„ vue å¤§å¸ˆï¼‰</p></blockquote><h3 id="å…³äºç»„åˆå¼-API">å…³äºç»„åˆå¼ API</h3><blockquote><p><code>&lt;script setup&gt;</code> è¿™å—è¯­æ³•ç³–ç”œåˆ°æˆ‘æ ¹æœ¬æ‰¾ä¸åˆ°æ–¹å‘ï¼š<a href="https://staging-cn.vuejs.org/api/sfc-script-setup.html">å•æ–‡ä»¶ç»„ä»¶ | Vue.js (vuejs.org)</a></p></blockquote><h4 id="defineProps-ä¸-defineEmits">defineProps ä¸ defineEmits</h4><ul><li>çˆ¶å­ç»„ä»¶ä¼ å‚çš„å†™æ³•æœ‰äº†å¾ˆå¤§çš„å˜åŒ–æˆ‘ä»¬éœ€è¦ä½¿ç”¨<code>defineProps</code>å’Œ<code>defineEmits</code>ä»£æ›¿åŸæ¥çš„<code>props</code>å’Œ<code>context.emit</code></li><li>è¦æ³¨æ„<code>defineProps</code>å’Œ<code>defineEmits</code>éƒ½æ˜¯<strong>åªåœ¨</strong><code>&lt;script setup&gt;</code>ä¸­æ‰èƒ½ä½¿ç”¨çš„ç¼–è¯‘å™¨å®</li><li>è¯¥æ¨¡å¼ä¸‹ï¼Œä½¿ç”¨å®æ—¶æ— éœ€<code>import</code>å¯ä»¥ç›´æ¥ä½¿ç”¨</li><li>ä¸‹é¢ä¾‹å­æ¼”ç¤ºäº†çˆ¶å­ç»„ä»¶ç›¸äº’ä¼ é€’ä¿¡æ¯çš„è¿‡ç¨‹</li><li>çˆ¶ç»„ä»¶ ==&gt; å­ç»„ä»¶</li></ul><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">çˆ¶ç»„ä»¶</span><br><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">SonView</span> <span class="attr">:cont</span>=<span class="string">&quot;content&quot;</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">setup</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">  <span class="keyword">import</span> &#123; reactive &#125; <span class="keyword">from</span> <span class="string">&quot;vue&quot;</span>;</span></span><br><span class="line"><span class="language-javascript">  <span class="keyword">import</span> <span class="title class_">SonView</span> <span class="keyword">from</span> <span class="string">&quot;../components/SonView.vue&quot;</span>;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">  <span class="keyword">const</span> content = <span class="title function_">reactive</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">    <span class="attr">name</span>: <span class="string">&quot;tom&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">    <span class="attr">age</span>: <span class="number">18</span>,</span></span><br><span class="line"><span class="language-javascript">    <span class="attr">score</span>: <span class="number">92</span>,</span></span><br><span class="line"><span class="language-javascript">  &#125;);</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line">å­ç»„ä»¶</span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">setup</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">  <span class="keyword">const</span> props = <span class="title function_">defineProps</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">    <span class="attr">cont</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">type</span>: <span class="title class_">Object</span>,</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">required</span>: <span class="literal">true</span>,</span></span><br><span class="line"><span class="language-javascript">    &#125;,</span></span><br><span class="line"><span class="language-javascript">  &#125;);</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">  <span class="variable language_">console</span>.<span class="title function_">log</span>(props.<span class="property">cont</span>.<span class="property">name</span>);</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line">è‡ªæ­¤å­ç»„ä»¶å¯ä½¿ç”¨props.contè®¿é—®contentä¸­çš„æ‰€æœ‰å‚æ•°</span><br></pre></td></tr></table></figure><ul><li>å­ç»„ä»¶ ==&gt; çˆ¶ç»„ä»¶</li></ul><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">çˆ¶ç»„ä»¶</span><br><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;container&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">SonButton</span> @<span class="attr">change</span>=<span class="string">&quot;add&quot;</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span>&gt;</span>&#123;&#123; val &#125;&#125;<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">setup</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">  <span class="keyword">import</span> <span class="title class_">SonButton</span> <span class="keyword">from</span> <span class="string">&quot;../components/SonButton.vue&quot;</span>;</span></span><br><span class="line"><span class="language-javascript">  <span class="keyword">import</span> &#123; ref &#125; <span class="keyword">from</span> <span class="string">&quot;vue&quot;</span>;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">  <span class="keyword">let</span> val = <span class="title function_">ref</span>(<span class="number">0</span>);</span></span><br><span class="line"><span class="language-javascript">  <span class="keyword">const</span> <span class="title function_">add</span> = (<span class="params"></span>) =&gt; &#123;</span></span><br><span class="line"><span class="language-javascript">    val.<span class="property">value</span>++;</span></span><br><span class="line"><span class="language-javascript">  &#125;;</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line">å­ç»„ä»¶</span><br><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;func&quot;</span>&gt;</span>AddVal<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">setup</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">  <span class="keyword">const</span> emit = <span class="title function_">defineEmits</span>([<span class="string">&quot;change&quot;</span>]);</span></span><br><span class="line"><span class="language-javascript">  <span class="keyword">const</span> <span class="title function_">func</span> = (<span class="params"></span>) =&gt; &#123;</span></span><br><span class="line"><span class="language-javascript">    <span class="title function_">emit</span>(<span class="string">&quot;change&quot;</span>);</span></span><br><span class="line"><span class="language-javascript">  &#125;;</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line">ç‚¹å‡»ä½äºå­ç»„ä»¶çš„æŒ‰é’®æ”¹å˜çˆ¶ç»„ä»¶ä¸­çš„æ•°æ®</span><br></pre></td></tr></table></figure><h4 id="defineExpose">defineExpose</h4><ul><li>å› ä¸ºä½¿ç”¨<code>&lt;script setup&gt;</code>åä¸éœ€è¦ <code>return</code>äº†ï¼Œä½†è¿™æ ·ä¼šå‡ºç°ä¸€äº›é—®é¢˜</li><li>ä½¿ç”¨ <code>&lt;script setup&gt;</code> çš„ç»„ä»¶æ˜¯<strong>é»˜è®¤å…³é—­</strong>çš„ï¼Œä¹Ÿå³é€šè¿‡æ¨¡æ¿ <code>ref</code> æˆ–è€… <code>$parent</code> é“¾è·å–åˆ°çš„ç»„ä»¶çš„å…¬å¼€å®ä¾‹ï¼Œä¸ä¼šæš´éœ²ä»»ä½•åœ¨ <code>&lt;script setup&gt;</code> ä¸­å£°æ˜çš„ç»‘å®š</li><li>ä¸ºäº†åœ¨ <code>&lt;script setup&gt;</code> ç»„ä»¶ä¸­æ˜ç¡®è¦æš´éœ²å‡ºå»çš„å±æ€§ï¼Œä½¿ç”¨ <code>defineExpose</code> ç¼–è¯‘å™¨å®</li><li><strong>æ³¨æ„æ—¶æœºï¼</strong>ï¼šçˆ¶ç»„ä»¶éœ€è¦åœ¨ <code>onMounted</code>ç”Ÿå‘½å‘¨æœŸå†…æˆ–é€šè¿‡è§¦å‘äº‹ä»¶æ¥è·å–</li><li>ä¸‹é¢ä¾‹å­æ¼”ç¤ºäº†çˆ¶ç»„ä»¶é€šè¿‡<code>ref</code>ä»å­ç»„ä»¶è·å–æ•°æ®çš„è¿‡ç¨‹</li></ul><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line">çˆ¶ç»„ä»¶</span><br><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">SonButton</span> <span class="attr">ref</span>=<span class="string">&quot;sonref&quot;</span> /&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;func&quot;</span>&gt;</span>get<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">setup</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">  <span class="keyword">import</span> <span class="title class_">SonButton</span> <span class="keyword">from</span> <span class="string">&quot;../components/SonButton.vue&quot;</span>;</span></span><br><span class="line"><span class="language-javascript">  <span class="keyword">import</span> &#123; ref, onMounted &#125; <span class="keyword">from</span> <span class="string">&quot;vue&quot;</span>;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">  <span class="keyword">let</span> sonref = <span class="title function_">ref</span>(<span class="string">&quot;&quot;</span>);</span></span><br><span class="line"><span class="language-javascript">  <span class="comment">// ç¬¬ä¸€ç§æ–¹æ³•</span></span></span><br><span class="line"><span class="language-javascript">  <span class="title function_">onMounted</span>(<span class="function">() =&gt;</span> &#123;</span></span><br><span class="line"><span class="language-javascript">    <span class="variable language_">console</span>.<span class="title function_">log</span>(sonref.<span class="property">value</span>.<span class="property">val</span>);</span></span><br><span class="line"><span class="language-javascript">  &#125;);</span></span><br><span class="line"><span class="language-javascript">  <span class="comment">// ç¬¬äºŒç§æ–¹æ³•</span></span></span><br><span class="line"><span class="language-javascript">  <span class="keyword">const</span> <span class="title function_">func</span> = (<span class="params"></span>) =&gt; &#123;</span></span><br><span class="line"><span class="language-javascript">    <span class="variable language_">console</span>.<span class="title function_">log</span>(sonref.<span class="property">value</span>.<span class="property">val</span>);</span></span><br><span class="line"><span class="language-javascript">    sonref.<span class="property">value</span>.<span class="title function_">fun</span>();</span></span><br><span class="line"><span class="language-javascript">  &#125;;</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line">å­ç»„ä»¶</span><br><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">button</span> <span class="attr">type</span>=<span class="string">&quot;button&quot;</span> <span class="attr">class</span>=<span class="string">&quot;btn btn-info&quot;</span> @<span class="attr">click</span>=<span class="string">&quot;func&quot;</span>&gt;</span>AddVal<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">setup</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">  <span class="keyword">import</span> &#123; ref &#125; <span class="keyword">from</span> <span class="string">&quot;vue&quot;</span>;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">  <span class="keyword">const</span> val = <span class="title function_">ref</span>(<span class="number">100</span>);</span></span><br><span class="line"><span class="language-javascript">  <span class="keyword">const</span> <span class="title function_">fun</span> = (<span class="params"></span>) =&gt; &#123;</span></span><br><span class="line"><span class="language-javascript">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="number">1000</span>);</span></span><br><span class="line"><span class="language-javascript">  &#125;;</span></span><br><span class="line"><span class="language-javascript">  <span class="title function_">defineExpose</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">    val,</span></span><br><span class="line"><span class="language-javascript">    fun,</span></span><br><span class="line"><span class="language-javascript">  &#125;);</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><h4 id="å®šä¹‰ç»„ä»¶-name">å®šä¹‰ç»„ä»¶ name</h4><ul><li>é…ç½®</li></ul><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">npm i unplugin-vue-define-options -D</span><br><span class="line"></span><br><span class="line"><span class="comment">// vite.config.ts</span></span><br><span class="line"><span class="keyword">import</span> &#123; defineConfig &#125; <span class="keyword">from</span> <span class="string">&#x27;vite&#x27;</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">DefineOptions</span> <span class="keyword">from</span> <span class="string">&#x27;unplugin-vue-define-options/vite&#x27;</span></span><br><span class="line"><span class="keyword">import</span> vue <span class="keyword">from</span> <span class="string">&#x27;@vitejs/plugin-vue&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="title function_">defineConfig</span>(&#123;</span><br><span class="line">    <span class="attr">plugins</span>: [</span><br><span class="line">        <span class="title function_">vue</span>(),</span><br><span class="line">        <span class="title class_">DefineOptions</span>()</span><br><span class="line">    ]</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">// tsconfig.json</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="string">&quot;compilerOptions&quot;</span>: &#123;</span><br><span class="line">       <span class="string">&quot;types&quot;</span>: [<span class="string">&quot;unplugin-vue-define-options/macros-global&quot;</span>]</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>ä½¿ç”¨</li></ul><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;&quot;</span>&gt;</span>this is a card<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">setup</span> <span class="attr">lang</span>=<span class="string">&quot;ts&quot;</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">  <span class="title function_">defineOptions</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">    <span class="attr">name</span>: <span class="string">&quot;card&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">  &#125;);</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><hr><h3 id="å¥½ç”¨çš„åº“ä»¬">å¥½ç”¨çš„åº“ä»¬</h3><h4 id="Bootstrap">Bootstrap</h4><ul><li><p>å®˜ç½‘ï¼š<a href="https://v5.bootcss.com/docs/getting-started/introduction/">ç®€ä»‹ Â· Bootstrap v5 ä¸­æ–‡æ–‡æ¡£ v5.1 | Bootstrap ä¸­æ–‡ç½‘ (bootcss.com)</a></p></li><li><p>å®‰è£…ä¸å¼•å…¥</p></li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">npm install bootstrap --save</span><br><span class="line"></span><br><span class="line"><span class="comment">// App.vue</span></span><br><span class="line"><span class="keyword">import</span> <span class="string">&#x27;bootstrap/dist/css/bootstrap.css&#x27;</span></span><br><span class="line"><span class="keyword">import</span> <span class="string">&#x27;bootstrap/dist/js/bootstrap&#x27;</span></span><br></pre></td></tr></table></figure><h4 id="IconPark">IconPark</h4><blockquote><p>ç¢°å·§æœ€è¿‘æœ‰ä½¿ç”¨ icon çš„éœ€æ±‚çš„æ—¶å€™é˜¿é‡Œçš„ iconfont æŒ‚æ‰äº†ï¼Œäºæ˜¯è¯•äº†è¯•è¿™ä¸ªç½‘ç«™</p><p>ç¼ºç‚¹å°±æ˜¯å›¾æ ‡ç§ç±»å¹¿åº¦æœ‰ç‚¹ä¸è¶³ï¼Œæ ·å¼ä¹Ÿä¸å¤Ÿå¤šæ ·ï¼Œä¸è¿‡å¤§å·®ä¸å·®ä¹Ÿèƒ½ç”¨ï¼Œè¿˜èƒ½è‡ªå®šä¹‰é¢œè‰²</p></blockquote><ul><li><p>å®˜ç½‘ï¼š[<a href="https://iconpark.oceanengine.com/official">ByteDance IconPark (oceanengine.com)</a>](<a href="https://www.jianshu.com/p/c5d7215bd991">https://www.jianshu.com/p/c5d7215bd991</a>)</p></li><li><p>å®‰è£…ä¸å¼•å…¥</p></li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">npm install @icon-park/vue-next --save</span><br><span class="line"></span><br><span class="line"><span class="comment">// App.vue</span></span><br><span class="line"><span class="keyword">import</span> <span class="string">&#x27;@icon-park/vue-next/styles/index.css&#x27;</span></span><br></pre></td></tr></table></figure><ul><li><p>ä½¿ç”¨</p><ul><li>ä»ç½‘ç«™å¤åˆ¶ vue ä»£ç å³å¯</li><li>æ³¨æ„ä½¿ç”¨æ—¶è¦<strong>å•ç‹¬å¼•å…¥</strong>ï¼Œå¼•å…¥çš„å‘½åæ–¹å¼æ˜¯<code>kebab-case</code>è½¬<code>CamelCase</code></li></ul></li></ul><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">github-one</span> <span class="attr">theme</span>=<span class="string">&quot;outline&quot;</span> <span class="attr">size</span>=<span class="string">&quot;44&quot;</span> <span class="attr">fill</span>=<span class="string">&quot;#000000&quot;</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">setup</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">  <span class="keyword">import</span> &#123; <span class="title class_">GithubOne</span> &#125; <span class="keyword">from</span> <span class="string">&quot;@icon-park/vue-next&quot;</span>; <span class="comment">// æ³¨æ„å¼•å…¥çš„å‘½åæ–¹å¼</span></span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><h4 id="ElementPlus">ElementPlus</h4><blockquote><p>éœ€è¦æ³¨æ„çš„æ˜¯ vue3 è¦å¼•å…¥çš„æ˜¯ element-plus</p></blockquote><ul><li>å®˜ç½‘ï¼š <a href="https://element-plus.org/zh-CN/#/zh-CN">https://element-plus.org/zh-CN/#/zh-CN</a></li><li>å®‰è£…ä¸å¼•å…¥</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">npm install element-plus --save</span><br><span class="line"></span><br><span class="line"><span class="comment">// main.jsä¸­å¼•å…¥</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">ElementPlus</span> <span class="keyword">from</span> <span class="string">&#x27;element-plus&#x27;</span></span><br><span class="line"><span class="keyword">import</span> <span class="string">&#x27;element-plus/dist/index.css&#x27;</span></span><br><span class="line">app.<span class="title function_">use</span>(<span class="title class_">ElementPlus</span>)</span><br></pre></td></tr></table></figure><ul><li>è¡¨å•æ ¡éªŒæ¿å­ï¼š<a href="https://element-plus.org/zh-CN/component/form.html#%E8%A1%A8%E5%8D%95%E6%A0%A1%E9%AA%8C">https://element-plus.org/zh-CN/component/form.html#è¡¨å•æ ¡éªŒ</a></li></ul><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;box&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;login-container&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">el-button</span> <span class="attr">:plain</span>=<span class="string">&quot;true&quot;</span> <span class="attr">v-if</span>=<span class="string">&quot;false&quot;</span>&gt;</span>error<span class="tag">&lt;/<span class="name">el-button</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">el-button</span> <span class="attr">text</span> <span class="attr">v-if</span>=<span class="string">&quot;false&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">el-button</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">h2</span> <span class="attr">style</span>=<span class="string">&quot;color:white&quot;</span>&gt;</span>ç™»å½•<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">el-form</span> <span class="attr">:rules</span>=<span class="string">&quot;rules&quot;</span> <span class="attr">:model</span>=<span class="string">&quot;user&quot;</span> <span class="attr">ref</span>=<span class="string">&quot;form&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">el-form-item</span> <span class="attr">prop</span>=<span class="string">&quot;username&quot;</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">el-input</span></span></span><br><span class="line"><span class="tag">            <span class="attr">placeholder</span>=<span class="string">&quot;è¯·è¾“å…¥ç”¨æˆ·å&quot;</span></span></span><br><span class="line"><span class="tag">            <span class="attr">:prefix-icon</span>=<span class="string">&quot;UserFilled&quot;</span></span></span><br><span class="line"><span class="tag">            <span class="attr">class</span>=<span class="string">&quot;item&quot;</span></span></span><br><span class="line"><span class="tag">            <span class="attr">v-model</span>=<span class="string">&quot;user.username&quot;</span></span></span><br><span class="line"><span class="tag">          /&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">el-form-item</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">el-form-item</span> <span class="attr">prop</span>=<span class="string">&quot;password&quot;</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">el-input</span></span></span><br><span class="line"><span class="tag">            <span class="attr">placeholder</span>=<span class="string">&quot;è¯·è¾“å…¥å¯†ç &quot;</span></span></span><br><span class="line"><span class="tag">            <span class="attr">:prefix-icon</span>=<span class="string">&quot;Lock&quot;</span></span></span><br><span class="line"><span class="tag">            <span class="attr">class</span>=<span class="string">&quot;item&quot;</span></span></span><br><span class="line"><span class="tag">            <span class="attr">v-model</span>=<span class="string">&quot;user.password&quot;</span></span></span><br><span class="line"><span class="tag">            <span class="attr">show-password</span></span></span><br><span class="line"><span class="tag">            @<span class="attr">paste.capture.prevent</span>=<span class="string">&quot;handlePaste&quot;</span></span></span><br><span class="line"><span class="tag">          /&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">el-form-item</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;link&quot;</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">router-link</span> <span class="attr">:to</span>=<span class="string">&quot;&#123; path: &#x27;/todo/register&#x27; &#125;&quot;</span> <span class="attr">class</span>=<span class="string">&quot;link&quot;</span></span></span><br><span class="line"><span class="tag">            &gt;</span>æ²¡æœ‰ç”¨æˆ·å?è¯·æ³¨å†Œ&lt;/router-link</span><br><span class="line">          &gt;</span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">el-form-item</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">el-button</span> <span class="attr">type</span>=<span class="string">&quot;primary&quot;</span> <span class="attr">class</span>=<span class="string">&quot;item&quot;</span> @<span class="attr">click</span>=<span class="string">&quot;submit&quot;</span></span></span><br><span class="line"><span class="tag">            &gt;</span>ç™»å½•&lt;/el-button</span><br><span class="line">          &gt;</span><br><span class="line">        <span class="tag">&lt;/<span class="name">el-form-item</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">el-form</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">setup</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">  <span class="keyword">import</span> &#123; <span class="title class_">UserFilled</span>, <span class="title class_">Lock</span> &#125; <span class="keyword">from</span> <span class="string">&quot;@element-plus/icons-vue&quot;</span>;</span></span><br><span class="line"><span class="language-javascript">  <span class="keyword">import</span> &#123; <span class="title class_">ElMessage</span> &#125; <span class="keyword">from</span> <span class="string">&quot;element-plus&quot;</span>;</span></span><br><span class="line"><span class="language-javascript">  <span class="keyword">import</span> axios <span class="keyword">from</span> <span class="string">&quot;axios&quot;</span>;</span></span><br><span class="line"><span class="language-javascript">  <span class="keyword">import</span> &#123; reactive, ref, toRaw &#125; <span class="keyword">from</span> <span class="string">&quot;vue&quot;</span>;</span></span><br><span class="line"><span class="language-javascript">  <span class="keyword">import</span> &#123; useRouter &#125; <span class="keyword">from</span> <span class="string">&quot;vue-router&quot;</span>;</span></span><br><span class="line"><span class="language-javascript">  <span class="keyword">import</span> &#123; countStore &#125; <span class="keyword">from</span> <span class="string">&quot;@/stores/countStore&quot;</span>;</span></span><br><span class="line"><span class="language-javascript">  <span class="keyword">const</span> user = <span class="title function_">reactive</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">    <span class="attr">username</span>: <span class="string">&quot;&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">    <span class="attr">password</span>: <span class="string">&quot;&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">  &#125;);</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">  <span class="keyword">const</span> rules = <span class="title function_">reactive</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">    <span class="attr">username</span>: [</span></span><br><span class="line"><span class="language-javascript">      &#123; <span class="attr">required</span>: <span class="literal">true</span>, <span class="attr">message</span>: <span class="string">&quot;Please input Name&quot;</span>, <span class="attr">trigger</span>: <span class="string">&quot;blur&quot;</span> &#125;,</span></span><br><span class="line"><span class="language-javascript">    ],</span></span><br><span class="line"><span class="language-javascript">    <span class="attr">password</span>: [</span></span><br><span class="line"><span class="language-javascript">      &#123; <span class="attr">required</span>: <span class="literal">true</span>, <span class="attr">message</span>: <span class="string">&quot;Please input Password&quot;</span>, <span class="attr">trigger</span>: <span class="string">&quot;blur&quot;</span> &#125;,</span></span><br><span class="line"><span class="language-javascript">    ],</span></span><br><span class="line"><span class="language-javascript">  &#125;);</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">  <span class="keyword">const</span> form = <span class="title function_">ref</span>(<span class="string">&quot;&quot;</span>);</span></span><br><span class="line"><span class="language-javascript">  <span class="keyword">const</span> router = <span class="title function_">useRouter</span>();</span></span><br><span class="line"><span class="language-javascript">  <span class="keyword">const</span> store = <span class="title function_">countStore</span>();</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">  <span class="keyword">const</span> <span class="title function_">submit</span> = (<span class="params"></span>) =&gt; &#123;</span></span><br><span class="line"><span class="language-javascript">    form.<span class="property">value</span>.<span class="title function_">validate</span>(<span class="function">(<span class="params">valid</span>) =&gt;</span> &#123;</span></span><br><span class="line"><span class="language-javascript">      <span class="keyword">if</span> (valid) &#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="title function_">axios</span>(&#123;&#125;).<span class="title function_">then</span>(<span class="function">(<span class="params">resp</span>) =&gt;</span> &#123;</span></span><br><span class="line"><span class="language-javascript">          <span class="keyword">if</span> (resp.<span class="property">data</span> === <span class="literal">null</span>) &#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="title class_">ElMessage</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">              <span class="attr">showClose</span>: <span class="literal">true</span>,</span></span><br><span class="line"><span class="language-javascript">              <span class="attr">message</span>: <span class="string">&quot;Oops, ç”¨æˆ·åæˆ–å¯†ç é”™è¯¯&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">              <span class="attr">type</span>: <span class="string">&quot;error&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">            &#125;);</span></span><br><span class="line"><span class="language-javascript">          &#125; <span class="keyword">else</span> &#123;</span></span><br><span class="line"><span class="language-javascript">            router.<span class="title function_">push</span>(&#123; <span class="attr">path</span>: <span class="string">&quot;&quot;</span> &#125;);</span></span><br><span class="line"><span class="language-javascript">          &#125;</span></span><br><span class="line"><span class="language-javascript">        &#125;);</span></span><br><span class="line"><span class="language-javascript">      &#125; <span class="keyword">else</span> &#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="title class_">ElMessage</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">          <span class="attr">showClose</span>: <span class="literal">true</span>,</span></span><br><span class="line"><span class="language-javascript">          <span class="attr">message</span>: <span class="string">&quot;è¯·æ±‚è¶…æ—¶&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">          <span class="attr">type</span>: <span class="string">&quot;warning&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">        &#125;);</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">return</span> <span class="literal">false</span>;</span></span><br><span class="line"><span class="language-javascript">      &#125;</span></span><br><span class="line"><span class="language-javascript">    &#125;);</span></span><br><span class="line"><span class="language-javascript">  &#125;;</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">style</span> <span class="attr">scoped</span>&gt;</span><span class="language-css"></span></span><br><span class="line"><span class="language-css">  <span class="selector-class">.box</span> &#123;</span></span><br><span class="line"><span class="language-css">    <span class="attribute">display</span>: flex;</span></span><br><span class="line"><span class="language-css">    <span class="attribute">height</span>: <span class="number">100vh</span>;</span></span><br><span class="line"><span class="language-css">    <span class="attribute">justify-content</span>: center;</span></span><br><span class="line"><span class="language-css">    <span class="attribute">align-items</span>: center;</span></span><br><span class="line"><span class="language-css">    <span class="attribute">background-color</span>: mediumslateblue;</span></span><br><span class="line"><span class="language-css">  &#125;</span></span><br><span class="line"><span class="language-css"></span></span><br><span class="line"><span class="language-css">  <span class="selector-class">.login-container</span> &#123;</span></span><br><span class="line"><span class="language-css">    <span class="attribute">width</span>: <span class="number">300px</span>;</span></span><br><span class="line"><span class="language-css">  &#125;</span></span><br><span class="line"><span class="language-css"></span></span><br><span class="line"><span class="language-css">  <span class="selector-class">.item</span> &#123;</span></span><br><span class="line"><span class="language-css">    <span class="attribute">width</span>: <span class="number">100%</span>;</span></span><br><span class="line"><span class="language-css">    <span class="attribute">height</span>: <span class="number">45px</span>;</span></span><br><span class="line"><span class="language-css">  &#125;</span></span><br><span class="line"><span class="language-css"></span></span><br><span class="line"><span class="language-css">  <span class="selector-tag">h2</span> &#123;</span></span><br><span class="line"><span class="language-css">    <span class="attribute">text-align</span>: center;</span></span><br><span class="line"><span class="language-css">    <span class="attribute">margin-bottom</span>: <span class="number">15px</span>;</span></span><br><span class="line"><span class="language-css">  &#125;</span></span><br><span class="line"><span class="language-css"></span></span><br><span class="line"><span class="language-css">  <span class="selector-class">.link</span> &#123;</span></span><br><span class="line"><span class="language-css">    <span class="attribute">color</span>: indigo;</span></span><br><span class="line"><span class="language-css">    <span class="attribute">text-align</span>: right;</span></span><br><span class="line"><span class="language-css">  &#125;</span></span><br><span class="line"><span class="language-css"></span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br></pre></td></tr></table></figure><ul><li>å›¾ç‰‡ä¸Šä¼ +å‹ç¼©ï¼š<a href="https://blog.csdn.net/weixin_46531845/article/details/125199881">https://blog.csdn.net/weixin_46531845/article/details/125199881</a></li></ul><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br></pre></td><td class="code"><pre><span class="line">çˆ¶ç»„ä»¶</span><br><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;box&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">el-dialog</span></span></span><br><span class="line"><span class="tag">      <span class="attr">v-model</span>=<span class="string">&quot;profile&quot;</span></span></span><br><span class="line"><span class="tag">      <span class="attr">title</span>=<span class="string">&quot;ä¸Šä¼ å¤´åƒ&quot;</span></span></span><br><span class="line"><span class="tag">      <span class="attr">width</span>=<span class="string">&quot;30%&quot;</span></span></span><br><span class="line"><span class="tag">      <span class="attr">draggable</span></span></span><br><span class="line"><span class="tag">      <span class="attr">v-if</span>=<span class="string">&quot;uploadview&quot;</span></span></span><br><span class="line"><span class="tag">    &gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">profilePhoto</span> @<span class="attr">change</span>=<span class="string">&quot;upload&quot;</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">el-dialog</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">setup</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">  <span class="keyword">const</span> profile = <span class="title function_">ref</span>(<span class="literal">false</span>);</span></span><br><span class="line"><span class="language-javascript">  <span class="keyword">const</span> uploadview = <span class="title function_">ref</span>(<span class="literal">true</span>);</span></span><br><span class="line"><span class="language-javascript">  <span class="keyword">const</span> <span class="title function_">upload</span> = (<span class="params"></span>) =&gt; &#123;</span></span><br><span class="line"><span class="language-javascript">    router.<span class="title function_">go</span>(<span class="number">0</span>);</span></span><br><span class="line"><span class="language-javascript">    <span class="title class_">ElMessage</span>.<span class="title function_">success</span>(<span class="string">&quot;ä¸Šä¼ æˆåŠŸ&quot;</span>);</span></span><br><span class="line"><span class="language-javascript">  &#125;;</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line">å­ç»„ä»¶</span><br><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;box&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">el-upload</span></span></span><br><span class="line"><span class="tag">      <span class="attr">class</span>=<span class="string">&quot;avatar-uploader&quot;</span></span></span><br><span class="line"><span class="tag">      <span class="attr">:show-file-list</span>=<span class="string">&quot;false&quot;</span></span></span><br><span class="line"><span class="tag">      <span class="attr">action</span>=<span class="string">&quot;/api/setphoto&quot;</span></span></span><br><span class="line"><span class="tag">      <span class="attr">:on-success</span>=<span class="string">&quot;handleAvatarSuccess&quot;</span></span></span><br><span class="line"><span class="tag">      <span class="attr">:headers</span>=<span class="string">&quot;&#123; token: token &#125;&quot;</span></span></span><br><span class="line"><span class="tag">      <span class="attr">:before-upload</span>=<span class="string">&quot;beforeAvatarUpload&quot;</span></span></span><br><span class="line"><span class="tag">      <span class="attr">:auto-upload</span>=<span class="string">&quot;false&quot;</span></span></span><br><span class="line"><span class="tag">      <span class="attr">ref</span>=<span class="string">&quot;uploadRef&quot;</span></span></span><br><span class="line"><span class="tag">      <span class="attr">:on-change</span>=<span class="string">&quot;changeAvatar&quot;</span></span></span><br><span class="line"><span class="tag">      <span class="attr">:data</span>=<span class="string">&quot;&#123; userid: userid &#125;&quot;</span></span></span><br><span class="line"><span class="tag">    &gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">img</span> <span class="attr">v-if</span>=<span class="string">&quot;imageUrl&quot;</span> <span class="attr">:src</span>=<span class="string">&quot;imageUrl&quot;</span> <span class="attr">class</span>=<span class="string">&quot;avatar&quot;</span> /&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">el-icon</span> <span class="attr">v-else</span> <span class="attr">class</span>=<span class="string">&quot;avatar-uploader-icon&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">Plus</span> /&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">el-icon</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">el-upload</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">br</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">el-button</span> <span class="attr">type</span>=<span class="string">&quot;primary&quot;</span> <span class="attr">plain</span> @<span class="attr">click</span>=<span class="string">&quot;submitUpload&quot;</span>&gt;</span>ä¸Šä¼ <span class="tag">&lt;/<span class="name">el-button</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">setup</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">  <span class="keyword">import</span> &#123; ref, defineEmits &#125; <span class="keyword">from</span> <span class="string">&quot;vue&quot;</span>;</span></span><br><span class="line"><span class="language-javascript">  <span class="keyword">import</span> &#123; <span class="title class_">ElMessage</span> &#125; <span class="keyword">from</span> <span class="string">&quot;element-plus&quot;</span>;</span></span><br><span class="line"><span class="language-javascript">  <span class="keyword">import</span> &#123; <span class="title class_">Plus</span> &#125; <span class="keyword">from</span> <span class="string">&quot;@element-plus/icons-vue&quot;</span>;</span></span><br><span class="line"><span class="language-javascript">  <span class="keyword">import</span> * <span class="keyword">as</span> imageConversion <span class="keyword">from</span> <span class="string">&quot;image-conversion&quot;</span>;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">  <span class="keyword">const</span> imageUrl = <span class="title function_">ref</span>(<span class="string">&quot;&quot;</span>);</span></span><br><span class="line"><span class="language-javascript">  <span class="keyword">const</span> token = <span class="variable language_">localStorage</span>.<span class="title function_">getItem</span>(<span class="string">&quot;token&quot;</span>);</span></span><br><span class="line"><span class="language-javascript">  <span class="keyword">const</span> uploadRef = <span class="title function_">ref</span>();</span></span><br><span class="line"><span class="language-javascript">  <span class="keyword">const</span> userid = <span class="variable language_">localStorage</span>.<span class="title function_">getItem</span>(<span class="string">&quot;userid&quot;</span>);</span></span><br><span class="line"><span class="language-javascript">  <span class="keyword">const</span> emit = <span class="title function_">defineEmits</span>([<span class="string">&quot;change&quot;</span>]);</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">  <span class="keyword">const</span> <span class="title function_">handleAvatarSuccess</span> = (<span class="params"></span>) =&gt; &#123;</span></span><br><span class="line"><span class="language-javascript">    <span class="title function_">emit</span>(<span class="string">&quot;change&quot;</span>);</span></span><br><span class="line"><span class="language-javascript">  &#125;;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">  <span class="keyword">const</span> <span class="title function_">beforeAvatarUpload</span> = (<span class="params">rawFile</span>) =&gt; &#123;</span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">if</span> (rawFile.<span class="property">type</span> !== <span class="string">&quot;image/jpeg&quot;</span>) &#123;</span></span><br><span class="line"><span class="language-javascript">      <span class="title class_">ElMessage</span>.<span class="title function_">error</span>(<span class="string">&quot;Avatar picture must be JPG format!&quot;</span>);</span></span><br><span class="line"><span class="language-javascript">      <span class="keyword">return</span> <span class="literal">false</span>;</span></span><br><span class="line"><span class="language-javascript">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (rawFile.<span class="property">size</span> / <span class="number">1024</span> / <span class="number">1024</span> &gt; <span class="number">1</span>) &#123;</span></span><br><span class="line"><span class="language-javascript">      <span class="title class_">ElMessage</span>.<span class="title function_">error</span>(<span class="string">&quot;Avatar picture size can not exceed 1MB!&quot;</span>);</span></span><br><span class="line"><span class="language-javascript">      <span class="keyword">return</span> <span class="literal">false</span>;</span></span><br><span class="line"><span class="language-javascript">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (rawFile.<span class="property">size</span> / <span class="number">1024</span> / <span class="number">1024</span> &gt; <span class="number">0.05</span>) &#123;</span></span><br><span class="line"><span class="language-javascript">      <span class="comment">// å›¾åƒå‹ç¼©è‡³ 50KB</span></span></span><br><span class="line"><span class="language-javascript">      <span class="keyword">let</span> myImg = <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function">(<span class="params">resolve</span>) =&gt;</span> &#123;</span></span><br><span class="line"><span class="language-javascript">        imageConversion.<span class="title function_">compressAccurately</span>(rawFile, <span class="number">50</span>).<span class="title function_">then</span>(<span class="function">(<span class="params">res</span>) =&gt;</span> &#123;</span></span><br><span class="line"><span class="language-javascript">          <span class="title function_">resolve</span>(res);</span></span><br><span class="line"><span class="language-javascript">        &#125;);</span></span><br><span class="line"><span class="language-javascript">      &#125;);</span></span><br><span class="line"><span class="language-javascript">      <span class="keyword">return</span> myImg;</span></span><br><span class="line"><span class="language-javascript">    &#125;</span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">return</span> <span class="literal">true</span>;</span></span><br><span class="line"><span class="language-javascript">  &#125;;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">  <span class="keyword">const</span> <span class="title function_">changeAvatar</span> = (<span class="params">uploadFile</span>) =&gt; &#123;</span></span><br><span class="line"><span class="language-javascript">    imageUrl.<span class="property">value</span> = <span class="variable constant_">URL</span>.<span class="title function_">createObjectURL</span>(uploadFile.<span class="property">raw</span>);</span></span><br><span class="line"><span class="language-javascript">  &#125;;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">  <span class="keyword">const</span> <span class="title function_">submitUpload</span> = (<span class="params"></span>) =&gt; &#123;</span></span><br><span class="line"><span class="language-javascript">    uploadRef.<span class="property">value</span>.<span class="title function_">submit</span>();</span></span><br><span class="line"><span class="language-javascript">  &#125;;</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">style</span> <span class="attr">scoped</span>&gt;</span><span class="language-css"></span></span><br><span class="line"><span class="language-css">  <span class="selector-class">.avatar-uploader</span> <span class="selector-class">.avatar</span> &#123;</span></span><br><span class="line"><span class="language-css">    <span class="attribute">width</span>: <span class="number">178px</span>;</span></span><br><span class="line"><span class="language-css">    <span class="attribute">height</span>: <span class="number">178px</span>;</span></span><br><span class="line"><span class="language-css">    <span class="attribute">display</span>: block;</span></span><br><span class="line"><span class="language-css">  &#125;</span></span><br><span class="line"><span class="language-css"></span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="language-css"></span></span><br><span class="line"><span class="language-css">  <span class="selector-class">.box</span> &#123;</span></span><br><span class="line"><span class="language-css">    <span class="attribute">text-align</span>: center;</span></span><br><span class="line"><span class="language-css">  &#125;</span></span><br><span class="line"><span class="language-css"></span></span><br><span class="line"><span class="language-css">  <span class="selector-class">.avatar-uploader</span> <span class="selector-class">.el-upload</span> &#123;</span></span><br><span class="line"><span class="language-css">    <span class="attribute">border</span>: <span class="number">1px</span> dashed <span class="built_in">var</span>(--el-border-color);</span></span><br><span class="line"><span class="language-css">    <span class="attribute">border-radius</span>: <span class="number">6px</span>;</span></span><br><span class="line"><span class="language-css">    <span class="attribute">cursor</span>: pointer;</span></span><br><span class="line"><span class="language-css">    <span class="attribute">position</span>: relative;</span></span><br><span class="line"><span class="language-css">    <span class="attribute">overflow</span>: hidden;</span></span><br><span class="line"><span class="language-css">    <span class="attribute">transition</span>: <span class="built_in">var</span>(--el-transition-duration-fast);</span></span><br><span class="line"><span class="language-css">  &#125;</span></span><br><span class="line"><span class="language-css"></span></span><br><span class="line"><span class="language-css">  <span class="selector-class">.avatar-uploader</span> <span class="selector-class">.el-upload</span><span class="selector-pseudo">:hover</span> &#123;</span></span><br><span class="line"><span class="language-css">    <span class="attribute">border-color</span>: <span class="built_in">var</span>(--el-color-primary);</span></span><br><span class="line"><span class="language-css">  &#125;</span></span><br><span class="line"><span class="language-css"></span></span><br><span class="line"><span class="language-css">  <span class="selector-class">.el-icon</span><span class="selector-class">.avatar-uploader-icon</span> &#123;</span></span><br><span class="line"><span class="language-css">    <span class="attribute">font-size</span>: <span class="number">28px</span>;</span></span><br><span class="line"><span class="language-css">    <span class="attribute">color</span>: <span class="number">#8c939d</span>;</span></span><br><span class="line"><span class="language-css">    <span class="attribute">width</span>: <span class="number">178px</span>;</span></span><br><span class="line"><span class="language-css">    <span class="attribute">height</span>: <span class="number">178px</span>;</span></span><br><span class="line"><span class="language-css">    <span class="attribute">text-align</span>: center;</span></span><br><span class="line"><span class="language-css">  &#125;</span></span><br><span class="line"><span class="language-css"></span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br></pre></td></tr></table></figure><h4 id="Unocss">Unocss</h4><ul><li>å®‰è£…</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">npm install unocss @unocss/preset-uno @unocss/preset-attributify  -D</span><br><span class="line"></span><br><span class="line"><span class="comment">// main.js</span></span><br><span class="line"><span class="keyword">import</span> <span class="string">&#x27;uno.css&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// vie.config.js</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">Unocss</span> <span class="keyword">from</span> <span class="string">&#x27;unocss/vite&#x27;</span></span><br><span class="line"><span class="keyword">import</span> &#123; presetUno, presetAttributify &#125; <span class="keyword">from</span> <span class="string">&#x27;unocss&#x27;</span></span><br><span class="line"><span class="attr">plugins</span>: [</span><br><span class="line">    <span class="title class_">Unocss</span>(&#123;</span><br><span class="line">      <span class="attr">presets</span>: [</span><br><span class="line">        <span class="title function_">presetUno</span>(),</span><br><span class="line">        <span class="title function_">presetAttributify</span>()</span><br><span class="line">      ]</span><br><span class="line">    &#125;)</span><br><span class="line">]</span><br></pre></td></tr></table></figure><ul><li>æ˜ å°„å…³ç³»<a href="https://unocss.dev/interactive/">UnoCSS Interactive Docs</a></li></ul><hr><h3 id="åŠ¨æ€ç»„ä»¶">åŠ¨æ€ç»„ä»¶</h3><ul><li>åŠ¨æ€ç»„ä»¶æ˜¯å¾ˆå¿…è¦è€Œä¸”å¾ˆé¦™çš„</li></ul><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;container&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">button</span> <span class="attr">v-for</span>=<span class="string">&quot;(index, item) in groups&quot;</span> <span class="attr">:key</span>=<span class="string">&quot;index&quot;</span> @<span class="attr">click</span>=<span class="string">&quot;func(item)&quot;</span>&gt;</span></span><br><span class="line">      &#123;&#123; item &#125;&#125;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">component</span> <span class="attr">:is</span>=<span class="string">&quot;groups[current]&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">component</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">setup</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">  <span class="keyword">import</span> <span class="title class_">ComA</span> <span class="keyword">from</span> <span class="string">&quot;../components/ComA.vue&quot;</span>;</span></span><br><span class="line"><span class="language-javascript">  <span class="keyword">import</span> <span class="title class_">ComB</span> <span class="keyword">from</span> <span class="string">&quot;../components/ComB.vue&quot;</span>;</span></span><br><span class="line"><span class="language-javascript">  <span class="keyword">import</span> <span class="title class_">ComC</span> <span class="keyword">from</span> <span class="string">&quot;../components/ComC.vue&quot;</span>;</span></span><br><span class="line"><span class="language-javascript">  <span class="keyword">import</span> &#123; ref &#125; <span class="keyword">from</span> <span class="string">&quot;vue&quot;</span>;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">  <span class="keyword">const</span> groups = &#123;</span></span><br><span class="line"><span class="language-javascript">    <span class="title class_">ComA</span>,</span></span><br><span class="line"><span class="language-javascript">    <span class="title class_">ComB</span>,</span></span><br><span class="line"><span class="language-javascript">    <span class="title class_">ComC</span>,</span></span><br><span class="line"><span class="language-javascript">  &#125;;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">  <span class="keyword">const</span> current = <span class="title function_">ref</span>(<span class="string">&quot;ComA&quot;</span>);</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">  <span class="keyword">const</span> <span class="title function_">func</span> = (<span class="params">it</span>) =&gt; &#123;</span></span><br><span class="line"><span class="language-javascript">    current.<span class="property">value</span> = it;</span></span><br><span class="line"><span class="language-javascript">  &#125;;</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">style</span> <span class="attr">scoped</span>&gt;</span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br></pre></td></tr></table></figure><ul><li>ä½¿ç”¨ <code>keep-alive</code> å–æ¶ˆåˆ‡æ¢ç»„ä»¶æ—¶ DOM çš„é”€æ¯ï¼Œç”¨äºä¿ç•™çŠ¶æ€</li></ul><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">çˆ¶ç»„ä»¶ä½¿ç”¨ keep-alive</span><br><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;container&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">keep-alive</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">ComA</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">keep-alive</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">setup</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">  <span class="keyword">import</span> <span class="title class_">ComA</span> <span class="keyword">from</span> <span class="string">&quot;../components/ComA.vue&quot;</span>;</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line">å­ç»„ä»¶èƒ½å¤ŸæŒç»­è®¡æ•°</span><br><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span>&gt;</span>&#123;&#123; val &#125;&#125;<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">setup</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">  <span class="keyword">import</span> &#123; ref &#125; <span class="keyword">from</span> <span class="string">&quot;vue&quot;</span>;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">  <span class="keyword">let</span> val = <span class="title function_">ref</span>(<span class="number">0</span>);</span></span><br><span class="line"><span class="language-javascript">  <span class="built_in">setInterval</span>(<span class="function">() =&gt;</span> &#123;</span></span><br><span class="line"><span class="language-javascript">    val.<span class="property">value</span>++;</span></span><br><span class="line"><span class="language-javascript">  &#125;, <span class="number">200</span>);</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><hr><h3 id="å…³äºè·¯ç”±">å…³äºè·¯ç”±</h3><h4 id="è·¯ç”±æ‡’åŠ è½½">è·¯ç”±æ‡’åŠ è½½</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; createRouter, createWebHistory &#125; <span class="keyword">from</span> <span class="string">&quot;vue-router&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="title class_">HomeView</span> <span class="keyword">from</span> <span class="string">&quot;../views/HomeView.vue&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> routes = [</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="attr">path</span>: <span class="string">&quot;/&quot;</span>,</span><br><span class="line">    <span class="attr">name</span>: <span class="string">&quot;home&quot;</span>,</span><br><span class="line">    <span class="attr">component</span>: <span class="title class_">HomeView</span>,</span><br><span class="line">  &#125;,</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="attr">path</span>: <span class="string">&quot;/About&quot;</span>,</span><br><span class="line">    <span class="attr">name</span>: <span class="string">&quot;about&quot;</span>,</span><br><span class="line">    <span class="attr">component</span>: <span class="function">() =&gt;</span> <span class="title function_">import</span>(<span class="string">&quot;../views/About.vue&quot;</span>),</span><br><span class="line">  &#125;,</span><br><span class="line">];</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> router = <span class="title function_">createRouter</span>(&#123;</span><br><span class="line">  <span class="attr">history</span>: <span class="title function_">createWebHistory</span>(process.<span class="property">env</span>.<span class="property">BASE_URL</span>),</span><br><span class="line">  routes,</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> router;</span><br></pre></td></tr></table></figure><h4 id="è·¯ç”±è·³è½¬">è·¯ç”±è·³è½¬</h4><ul><li>ä½¿ç”¨ <code>router-link</code></li></ul><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">router-link</span> <span class="attr">:to</span>=<span class="string">&quot;&#123; name: &#x27;xxx&#x27; &#125;&quot;</span>&gt;</span> ç‚¹æˆ‘è·³è½¬ <span class="tag">&lt;/<span class="name">router-link</span>&gt;</span></span><br></pre></td></tr></table></figure><ul><li>pushï¼šé€‰é¡¹å¼ API â€” åœ¨é€‰é¡¹å¼ API <code>methods</code> ä¸­ä½¿ç”¨</li></ul><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">  <span class="attr">methods</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">func</span>: <span class="keyword">function</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">          <span class="variable language_">this</span>.<span class="property">$router</span>.<span class="title function_">push</span>(<span class="string">&#x27;/xxx&#x27;</span>)</span></span><br><span class="line"><span class="language-javascript">      &#125;</span></span><br><span class="line"><span class="language-javascript">  &#125;</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><ul><li>pushï¼šç»„åˆå¼ API ä¸­ä½¿ç”¨ â€” éœ€è¦å¼•å…¥ <code>useRouter</code></li></ul><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">setup</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">  <span class="keyword">import</span> &#123; useRouter &#125; <span class="keyword">from</span> <span class="string">&quot;vue-router&quot;</span>;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">  <span class="keyword">const</span> router = <span class="title function_">useRouter</span>();</span></span><br><span class="line"><span class="language-javascript">  <span class="keyword">const</span> <span class="title function_">func</span> = (<span class="params"></span>) =&gt; &#123;</span></span><br><span class="line"><span class="language-javascript">    router.<span class="title function_">push</span>(<span class="string">&quot;/xxx&quot;</span>);</span></span><br><span class="line"><span class="language-javascript">  &#125;;</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><h4 id="404">404</h4><ul><li>ä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼åŒ¹é…å·²æœ‰çš„è·¯ç”±ï¼ŒåŒ¹é…å¤±è´¥çš„è¯å°± 404 å–½</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">path</span>: <span class="string">&#x27;/404&#x27;</span>,</span><br><span class="line">  <span class="attr">name</span>: <span class="string">&#x27;404&#x27;</span>,</span><br><span class="line">  <span class="attr">component</span>: <span class="title class_">NotFoundView</span></span><br><span class="line">&#125;,</span><br><span class="line">&#123;</span><br><span class="line">  <span class="attr">path</span>: <span class="string">&#x27;/:catchAll(.*)&#x27;</span>,</span><br><span class="line">  <span class="attr">redirect</span>: <span class="string">&#x27;/404&#x27;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="å…¶ä»–">å…¶ä»–</h4><ul><li>è·å–å½“å‰è·¯ç”±è·¯å¾„ï¼Œå¯ä½œä¸ºåˆ¤æ®</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// æ–¹æ³•ä¸€</span></span><br><span class="line"><span class="variable language_">window</span>.<span class="property">location</span>.<span class="property">pathname</span> === <span class="string">&quot;/xxx&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// æ–¹æ³•äºŒ</span></span><br><span class="line"><span class="keyword">const</span> route = <span class="title function_">useRoute</span>();</span><br><span class="line"><span class="keyword">const</span> router = <span class="title function_">useRouter</span>();</span><br><span class="line"><span class="keyword">if</span> (route.<span class="property">path</span> !== <span class="string">`/xxx`</span>) &#123;</span><br><span class="line">  router.<span class="title function_">push</span>(&#123; <span class="attr">name</span>: <span class="string">&quot;xxx&quot;</span> &#125;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li><code>go</code>å’Œ<code>back</code></li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> router = <span class="title function_">useRouter</span>()</span><br><span class="line"></span><br><span class="line"><span class="comment">// go: åŸé¡µé¢è¡¨å•ä¸­çš„å†…å®¹ä¼šä¸¢å¤±ï¼›</span></span><br><span class="line">router.<span class="title function_">go</span>(-<span class="number">1</span>)ï¼šåé€€+åˆ·æ–°ï¼›</span><br><span class="line">router.<span class="title function_">go</span>(<span class="number">0</span>)ï¼šåˆ·æ–°ï¼›</span><br><span class="line">router.<span class="title function_">go</span>(<span class="number">1</span>) ï¼šå‰è¿›</span><br><span class="line"></span><br><span class="line"><span class="comment">// back: åŸé¡µè¡¨è¡¨å•ä¸­çš„å†…å®¹ä¼šä¿ç•™ï¼›åœ¨è¿”å›ç•Œé¢ä¼ é€’å‚æ•°ï¼›</span></span><br><span class="line">router.<span class="title function_">back</span>():åé€€ ï¼›</span><br><span class="line">router.<span class="title function_">back</span>(<span class="number">0</span>) åˆ·æ–°ï¼›</span><br><span class="line">router.<span class="title function_">back</span>(<span class="number">1</span>)ï¼šå‰è¿›</span><br></pre></td></tr></table></figure><hr><h3 id="Pinia">Pinia</h3><blockquote><p>Pinia æ˜¯æœªæ¥çš„è¶‹åŠ¿ã€‚å®ƒè§£å†³äº† Vuex å¾ˆå¤šçš„é—®é¢˜ï¼ŒPinia å–æ¶ˆäº† Vuex çš„ Mutationsï¼Œå¹¶ä¸”åœ¨ Action ä¸­åŒæ—¶æ”¯æŒåŒæ­¥å’Œå¼‚æ­¥ï¼›å¹¶ä¸”æ”¯æŒ Ts å’Œç»„åˆå¼ API çš„è¯­æ³•ã€‚</p><p><a href="https://pinia.web3doc.top/">https://pinia.web3doc.top/</a></p></blockquote><ul><li>å®‰è£…</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">npm install pinia</span><br><span class="line"></span><br><span class="line"><span class="comment">// main.js</span></span><br><span class="line"><span class="keyword">import</span> &#123; createPinia &#125; <span class="keyword">from</span> <span class="string">&#x27;pinia&#x27;</span></span><br><span class="line">.<span class="title function_">use</span>(<span class="title function_">createPinia</span>())</span><br></pre></td></tr></table></figure><ul><li>å®šä¹‰<code>Store</code><blockquote><p><a href="https://pinia.web3doc.top/core-concepts/">https://pinia.web3doc.top/core-concepts/</a></p></blockquote></li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; defineStore &#125; <span class="keyword">from</span> <span class="string">&quot;pinia&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> testStore = <span class="title function_">defineStore</span>(<span class="string">&quot;test&quot;</span>, &#123;</span><br><span class="line">  <span class="comment">// ç›¸å½“äº data</span></span><br><span class="line">  <span class="attr">state</span>: <span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">      <span class="attr">count</span>: <span class="number">2</span>,</span><br><span class="line">      <span class="attr">name</span>: <span class="string">&quot;mary&quot;</span>,</span><br><span class="line">      <span class="attr">age</span>: <span class="number">19</span>,</span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="comment">// ç›¸å½“äº methods</span></span><br><span class="line">  <span class="attr">actions</span>: &#123;</span><br><span class="line">    <span class="title function_">func</span>(<span class="params"></span>) &#123;</span><br><span class="line">      <span class="variable language_">this</span>.<span class="property">count</span>++;</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="comment">// ç›¸å½“äº computed è°ƒç”¨æ—¶å¯ç›´æ¥å½“ä½œå±æ€§</span></span><br><span class="line">  <span class="attr">getters</span>: &#123;</span><br><span class="line">    <span class="title function_">testCount</span>(<span class="params">state</span>) &#123;</span><br><span class="line">      <span class="keyword">return</span> state.<span class="property">count</span> * <span class="number">2</span>;</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><ul><li>ä½¿ç”¨<code>Store</code></li></ul><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;add&quot;</span>&gt;</span>click to add<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">setup</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">  <span class="keyword">import</span> &#123; testStore &#125; <span class="keyword">from</span> <span class="string">&quot;../store/TestStore&quot;</span>;</span></span><br><span class="line"><span class="language-javascript">  <span class="keyword">import</span> <span class="title class_">ChangeVal</span> <span class="keyword">from</span> <span class="string">&quot;./ChangeVal.vue&quot;</span>;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">  <span class="keyword">const</span> st = <span class="title function_">testStore</span>();</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">  <span class="keyword">const</span> <span class="title function_">add</span> = (<span class="params"></span>) =&gt; &#123;</span></span><br><span class="line"><span class="language-javascript">    st.<span class="property">count</span>++;</span></span><br><span class="line"><span class="language-javascript">  &#125;;</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><ul><li>storeToRefs</li></ul><p>è¯¥æ–¹æ³•èƒ½å°†<code>Store</code>çš„æ•°æ®è½¬åŒ–ä¸ºè½¬æ¢ä¸ºå“åº”å¼æ•°æ®</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> st = <span class="title function_">testStore</span>();</span><br><span class="line"><span class="keyword">let</span> &#123; count, age &#125; = <span class="title function_">storeToRefs</span>(st);</span><br></pre></td></tr></table></figure><ul><li>åœ¨<code>js</code>æ–‡ä»¶ä¸­ä½¿ç”¨<code>Store</code> (å¦‚è·¯ç”±é¡µé¢ä¸­)</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// åˆ›å»ºæ–‡ä»¶ store.js</span></span><br><span class="line"><span class="keyword">import</span> &#123; createPinia &#125; <span class="keyword">from</span> <span class="string">&#x27;pinia&#x27;</span></span><br><span class="line"><span class="keyword">const</span> pinia = <span class="title function_">createPinia</span>()</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> pinia</span><br><span class="line"></span><br><span class="line"><span class="comment">// main.js å¼•å…¥æ–¹å¼ä¿®æ”¹ä¸º</span></span><br><span class="line"><span class="keyword">import</span> pinia <span class="keyword">from</span> <span class="string">&#x27;@/stores/store&#x27;</span></span><br><span class="line">.<span class="title function_">use</span>(pinia)</span><br><span class="line"></span><br><span class="line"><span class="comment">// ä½¿ç”¨æ—¶</span></span><br><span class="line"><span class="keyword">import</span> pinia <span class="keyword">from</span> <span class="string">&#x27;@/stores/store&#x27;</span></span><br><span class="line"><span class="keyword">const</span> store = <span class="title function_">countStore</span>(pinia)</span><br></pre></td></tr></table></figure><hr><h3 id="Axios">Axios</h3><ul><li>å®‰è£…</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install axios --save</span><br></pre></td></tr></table></figure><ul><li>ä½¿ç”¨</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="title function_">axios</span>(&#123;</span><br><span class="line">    <span class="attr">method</span>:</span><br><span class="line">    <span class="attr">url</span>:</span><br><span class="line">    <span class="attr">headers</span>:</span><br><span class="line">    <span class="attr">data</span>:</span><br><span class="line">&#125;).<span class="title function_">then</span>(<span class="function"><span class="params">res</span> =&gt;</span> &#123;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><ul><li>äºŒæ¬¡å°è£…</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> axios <span class="keyword">from</span> <span class="string">&quot;axios&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> &#123; <span class="title class_">ElNotification</span> &#125; <span class="keyword">from</span> <span class="string">&quot;element-plus&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> &#123; <span class="title class_">InfoStore</span> &#125; <span class="keyword">from</span> <span class="string">&quot;@/stores/InfoStore&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> pinia <span class="keyword">from</span> <span class="string">&quot;@/stores/store&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> infoStore = <span class="title class_">InfoStore</span>(pinia);</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> req1 = axios.<span class="title function_">create</span>(&#123;</span><br><span class="line">  <span class="attr">timeout</span>: <span class="number">10000</span>,</span><br><span class="line">  <span class="attr">withCredentials</span>: <span class="literal">true</span>,</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">req1.<span class="property">interceptors</span>.<span class="property">request</span>.<span class="title function_">use</span>(<span class="function">(<span class="params">config</span>) =&gt;</span> &#123;</span><br><span class="line">  config.<span class="property">headers</span>.<span class="property">token</span> = infoStore.<span class="property">token</span>;</span><br><span class="line">  <span class="keyword">return</span> config;</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">req1.<span class="property">interceptors</span>.<span class="property">response</span>.<span class="title function_">use</span>(<span class="function">(<span class="params">res</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">if</span> (res.<span class="property">data</span>.<span class="property">code</span> === <span class="number">400</span>) &#123;</span><br><span class="line">    <span class="title class_">ElNotification</span>(&#123;</span><br><span class="line">      <span class="attr">title</span>: res.<span class="property">data</span>.<span class="property">msg</span>,</span><br><span class="line">      <span class="attr">type</span>: <span class="string">&quot;warning&quot;</span>,</span><br><span class="line">    &#125;);</span><br><span class="line">    <span class="keyword">return</span> <span class="title class_">Promise</span>.<span class="title function_">reject</span>(res.<span class="property">data</span>);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> res.<span class="property">data</span>;</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> req2 = axios.<span class="title function_">create</span>(&#123;</span><br><span class="line">  <span class="attr">timeout</span>: <span class="number">5000</span>,</span><br><span class="line">  <span class="attr">withCredentials</span>: <span class="literal">true</span>,</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">req2.<span class="property">interceptors</span>.<span class="property">response</span>.<span class="title function_">use</span>(<span class="function">(<span class="params">res</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">if</span> (res.<span class="property">data</span>.<span class="property">code</span> === <span class="number">400</span>) &#123;</span><br><span class="line">    <span class="title class_">ElNotification</span>(&#123;</span><br><span class="line">      <span class="attr">title</span>: res.<span class="property">msg</span>,</span><br><span class="line">      <span class="attr">type</span>: <span class="string">&quot;warning&quot;</span>,</span><br><span class="line">    &#125;);</span><br><span class="line">    <span class="comment">// å¼ºåˆ¶é€€å‡ºç™»å½•</span></span><br><span class="line">    infoStore.<span class="title function_">clearInfo</span>();</span><br><span class="line">    <span class="keyword">return</span> <span class="title class_">Promise</span>.<span class="title function_">reject</span>(res.<span class="property">data</span>);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> res.<span class="property">data</span>;</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> &#123; req1, req2 &#125;;</span><br></pre></td></tr></table></figure><hr><h3 id="é…ç½®è·¨åŸŸ">é…ç½®è·¨åŸŸ</h3><ul><li>åœ¨æ ¹ç›®å½•ä¸‹å»ºç«‹ <code>vue.config.js</code></li><li>é…ç½®ç›¸å…³è·¯å¾„ï¼Œæ³¨æ„åç»­è¦åœ¨<code>nginx</code>ä¸­è¿›è¡Œé…ç½®!!!</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> &#123; defineConfig &#125; = <span class="built_in">require</span>(<span class="string">&quot;@vue/cli-service&quot;</span>);</span><br><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = <span class="title function_">defineConfig</span>(&#123;</span><br><span class="line">  <span class="attr">transpileDependencies</span>: <span class="literal">true</span>,</span><br><span class="line">  <span class="attr">devServer</span>: &#123;</span><br><span class="line">    <span class="attr">proxy</span>: &#123;</span><br><span class="line">      <span class="comment">// é…ç½®è·¨åŸŸ</span></span><br><span class="line">      <span class="string">&quot;/api&quot;</span>: &#123;</span><br><span class="line">        <span class="attr">target</span>: <span class="string">&quot;http://152.136.154.181:8060&quot;</span>,</span><br><span class="line">        <span class="attr">pathRewrite</span>: &#123; <span class="string">&quot;^/api&quot;</span>: <span class="string">&quot;&quot;</span> &#125;,</span><br><span class="line">        <span class="attr">ws</span>: <span class="literal">true</span>,</span><br><span class="line">        <span class="attr">changeOrigin</span>: <span class="literal">true</span>,</span><br><span class="line">      &#125;,</span><br><span class="line">      <span class="string">&quot;/loc&quot;</span>: &#123;</span><br><span class="line">        <span class="attr">target</span>: <span class="string">&quot;http://127.0.0.1:8060&quot;</span>,</span><br><span class="line">        <span class="attr">pathRewrite</span>: &#123; <span class="string">&quot;^/loc&quot;</span>: <span class="string">&quot;&quot;</span> &#125;,</span><br><span class="line">        <span class="attr">ws</span>: <span class="literal">true</span>,</span><br><span class="line">        <span class="attr">changeOrigin</span>: <span class="literal">true</span>,</span><br><span class="line">      &#125;,</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><hr><h3 id="å·¥å…·ç±»">å·¥å…·ç±»</h3><h4 id="Base64è½¬urlå±•ç¤ºå›¾ç‰‡"><code>Base64</code>è½¬<code>url</code>å±•ç¤ºå›¾ç‰‡</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">function</span> <span class="title function_">convert_to_url</span>(<span class="params">string</span>) &#123;</span><br><span class="line">  <span class="keyword">const</span> byteCharacters = <span class="title function_">atob</span>(string);</span><br><span class="line">  <span class="keyword">const</span> byteArrays = [];</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; byteCharacters.<span class="property">length</span>; i++) &#123;</span><br><span class="line">    byteArrays.<span class="title function_">push</span>(byteCharacters.<span class="title function_">charCodeAt</span>(i));</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">const</span> blob = <span class="keyword">new</span> <span class="title class_">Blob</span>([<span class="keyword">new</span> <span class="title class_">Uint8Array</span>(byteArrays)], &#123; <span class="attr">type</span>: <span class="string">&quot;image/jpeg&quot;</span> &#125;);</span><br><span class="line">  <span class="keyword">const</span> imageUrl = <span class="variable constant_">URL</span>.<span class="title function_">createObjectURL</span>(blob);</span><br><span class="line">  <span class="keyword">return</span> imageUrl;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="AESåŠ è§£å¯†"><code>AES</code>åŠ è§£å¯†</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line">npm install crypto-js --save</span><br><span class="line"></span><br><span class="line"><span class="comment">// åŠ å¯†</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">CryptoJS</span> <span class="keyword">from</span> <span class="string">&#x27;crypto-js&#x27;</span></span><br><span class="line"><span class="keyword">import</span> pinia <span class="keyword">from</span> <span class="string">&#x27;@/stores/store&#x27;</span></span><br><span class="line"><span class="keyword">import</span> &#123; <span class="title class_">InfoStore</span> &#125; <span class="keyword">from</span> <span class="string">&#x27;@/stores/InfoStore&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> infoStore = <span class="title class_">InfoStore</span>(pinia)</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> key = <span class="string">&#x27;z2Se46GTYl6ajK2KXTp3XpZG5/ZzLJgT&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">function</span> <span class="title function_">aesEncrypt</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">let</span> keyHex = <span class="title class_">CryptoJS</span>.<span class="property">enc</span>.<span class="property">Utf8</span>.<span class="title function_">parse</span>(key)</span><br><span class="line">    <span class="keyword">const</span> email = infoStore.<span class="property">email</span></span><br><span class="line">    <span class="keyword">let</span> encrypted = <span class="title class_">CryptoJS</span>.<span class="property">AES</span>.<span class="title function_">encrypt</span>(email, keyHex, &#123;</span><br><span class="line">        <span class="attr">mode</span>: <span class="title class_">CryptoJS</span>.<span class="property">mode</span>.<span class="property">ECB</span>,</span><br><span class="line">        <span class="attr">padding</span>: <span class="title class_">CryptoJS</span>.<span class="property">pad</span>.<span class="property">Pkcs7</span></span><br><span class="line">    &#125;)</span><br><span class="line">    <span class="keyword">return</span> encrypted.<span class="title function_">toString</span>()</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">function</span> <span class="title function_">SHA256Encrypt</span>(<span class="params">pwd</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="title class_">CryptoJS</span>.<span class="title class_">SHA256</span>(pwd).<span class="title function_">toString</span>()</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// è§£å¯†</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">function</span> <span class="title function_">aesDecrypt</span>(<span class="params">str, key</span>) &#123;</span><br><span class="line">    <span class="keyword">let</span> keyHex = <span class="title class_">CryptoJS</span>.<span class="property">enc</span>.<span class="property">Utf8</span>.<span class="title function_">parse</span>(key)</span><br><span class="line">    <span class="keyword">let</span> decrypted = <span class="title class_">CryptoJS</span>.<span class="property">AES</span>.<span class="title function_">decrypt</span>(str, keyHex, &#123;</span><br><span class="line">        <span class="attr">mode</span>: <span class="title class_">CryptoJS</span>.<span class="property">mode</span>.<span class="property">ECB</span>,</span><br><span class="line">        <span class="attr">padding</span>: <span class="title class_">CryptoJS</span>.<span class="property">pad</span>.<span class="property">Pkcs7</span></span><br><span class="line">    &#125;)</span><br><span class="line">    <span class="keyword">let</span> result_value = decrypted.<span class="title function_">toString</span>(<span class="title class_">CryptoJS</span>.<span class="property">enc</span>.<span class="property">Utf8</span>)</span><br><span class="line">    <span class="keyword">return</span> result_value</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> å‰ç«¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> vue </tag>
            
            <tag> å‰ç«¯ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>äºŒåˆ†ç­”æ¡ˆä¸“é¢˜</title>
      <link href="/2022/06/16/%E4%BA%8C%E5%88%86%E4%B8%93%E9%A2%98/"/>
      <url>/2022/06/16/%E4%BA%8C%E5%88%86%E4%B8%93%E9%A2%98/</url>
      
        <content type="html"><![CDATA[<h4 id="å‰è¨€">å‰è¨€</h4><ul><li>æœ¬ç¯‡å°†æ€»ç»“å‡ ä¸ªäºŒåˆ†ç­”æ¡ˆçš„å¥—è·¯é¢˜</li><li>å¦‚æœä½ è¿˜ä¸çŸ¥é“ä»€ä¹ˆæ˜¯äºŒåˆ†çš„æ´»å»ºè®®å…ˆä»è¿™é‡Œå¼€å§‹ï¼š<br><a href="https://www.luogu.com.cn/training/111#problems">https://www.luogu.com.cn/training/111#problems</a></li><li>è¿™é‡Œå†™ä¸€ä¸‹æˆ‘å¸¸ç”¨çš„æ¨¡æ¿ï¼Œæœ¬æ–‡åŸºæœ¬å¥—ç”¨æ­¤æ¨¡æ¿ï¼š</li></ul><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// è®¾äºŒåˆ†èŒƒå›´ä¸º [L,R] è¿™é‡Œåªè®¨è®ºæ•´æ•°èŒƒå›´å†…çš„äºŒåˆ† æ˜¯å®æ•°èŒƒå›´å†…æ³¨æ„éœ€è¦æ§åˆ¶ç²¾åº¦</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// æ‰¾åˆ°æœ€åä¸€ä¸ªæ»¡è¶³çš„</span></span><br><span class="line"><span class="type">int</span> l=L,r=R;</span><br><span class="line"><span class="keyword">while</span>(l&lt;r)</span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">int</span> mid=l+r+<span class="number">1</span> &gt;&gt;<span class="number">1</span>; <span class="comment">//æ³¨æ„l=midæ—¶+1ï¼Œå¦åˆ™ç”±å‘ä¸‹å–æ•´çš„æ€§è´¨ä¼šå¯¼è‡´æ­»å¾ªç¯</span></span><br><span class="line">    <span class="keyword">if</span>(<span class="built_in">check</span>(mid)) l=mid;</span><br><span class="line">    <span class="keyword">else</span> r=mid<span class="number">-1</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// æ‰¾åˆ°ç¬¬ä¸€ä¸ªæ»¡è¶³çš„</span></span><br><span class="line"><span class="type">int</span> l=L,r=R;</span><br><span class="line"><span class="keyword">while</span>(l&lt;r)</span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">int</span> mid=l+r &gt;&gt;<span class="number">1</span>;</span><br><span class="line">    <span class="keyword">if</span>(<span class="built_in">check</span>(mid)) r=mid;</span><br><span class="line">    <span class="keyword">else</span> l=mid+<span class="number">1</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="ä¸€ç‚¹å¯¼è®ºï¼š">ä¸€ç‚¹å¯¼è®ºï¼š</h4><ul><li>äºŒåˆ†çš„æœ¬è´¨æ˜¯ä»€ä¹ˆï¼Ÿ æˆ‘çš„ç†è§£æ˜¯ï¼šå°†ä¸€ä¸ªæ»¡è¶³<strong>å•è°ƒæ€§çš„æ±‚è§£æ€§é—®é¢˜è½¬åŒ–ä¸ºè‹¥å¹²ä¸ªåˆ¤æ–­æ€§é—®é¢˜</strong>è¿›è¡Œç­›é€‰è¿›è€Œæ±‚è§£<ul><li>ä¸ºä»€ä¹ˆå¿…é¡»æ»¡è¶³å•è°ƒï¼Ÿ ä¸å¦‚æ€è€ƒä¸­å­¦æ•°å­¦æ˜¯æ€ä¹ˆä½¿ç”¨äºŒåˆ†æ€æƒ³æ±‚è§£å‡½æ•°é›¶ç‚¹çš„â€”â€”å¦‚æœä¸æ»¡è¶³å•è°ƒåˆ™æ— æ³•è¯æ˜äºŒåˆ†çš„æ­£ç¡®æ€§</li><li>äºŒåˆ†çš„æ„ä¹‰æ˜¯ä»€ä¹ˆï¼Ÿ ä¸äºŒåˆ†ä»ç„¶èƒ½é€šè¿‡ä»å¤´åˆ°å°¾ç­›é€‰è¿›è¡Œæ±‚è§£ï¼ŒäºŒåˆ†åˆ©ç”¨äº†é—®é¢˜çš„å•è°ƒæ€§å°†çº¿æ€§æ—¶é—´çš„å°è¯•ç¼©çŸ­åˆ°å¯¹æ•°çº§åˆ«</li><li>ä¸ºä»€ä¹ˆè½¬æ¢ï¼Ÿ å› ä¸ºæœ‰äº›é—®é¢˜ä¸å¥½ç›´æ¥æ±‚è§£ç­”æ¡ˆï¼Œç„¶è€Œå¯¹äºæŸä¸ªç­”æ¡ˆå´å¾ˆå¥½åˆ¤æ–­å…¶æ­£ç¡®æ€§(å¦‚æœä½ åšè¿‡ä¸€äº›äºŒåˆ†å°±æ˜ç™½æˆ‘åœ¨è¯´ä»€ä¹ˆ)</li></ul></li><li>äºŒåˆ†çš„å¿…è¦æ€§ï¼š long long èŒƒå›´å†… $log10^{18}$ ä¹Ÿæ‰ 60 å·¦å³ï¼Œæ‰€ä»¥ä½ å¦‚æœèƒ½å¤Ÿå¯Ÿè§‰åˆ°é¢˜ç›®å…·æœ‰äºŒæ®µæ€§(å³å•è°ƒæ€§)ï¼Œé‚£ä¹ˆç›´æ¥å°è¯•æ€è€ƒæœ€å¤–å±‚æ˜¯ä¸€ä¸ªäºŒåˆ†ç­”æ¡ˆï¼</li><li>è¦æ˜ç¡®çš„ä¸€ç‚¹æ˜¯å¸¦æœ‰äºŒåˆ†çš„é¢˜æ°¸è¿œä¸æ˜¯åœ¨è€ƒå¯ŸäºŒåˆ†ï¼Œè€Œæ˜¯åœ¨äº check å‡½æ•°çš„å†…å®¹ï¼Œcheck é‡Œé¢å¯èƒ½æ˜¯å¤æ‚çš„æ¨¡æ‹Ÿè´ªå¿ƒæˆ–æ˜¯æœç´¢ç”šè‡³æ˜¯ dpï¼Œå¦‚ä½•å†™ check åˆ™æ˜¯è€ƒå¯Ÿç»¼åˆç®—æ³•èƒ½åŠ›ï¼Œä¸åœ¨è®¨è®ºèŒƒå›´å†…</li><li>å¾ˆå¤šé¢˜ç›®é•¿å¾—å°±æ˜¯ä¸€å¼ è¦äºŒåˆ†çš„è„¸ã€‚ä½†æ˜¯ä¹Ÿæœ‰å¾ˆå¤šäºŒåˆ†é—®é¢˜å¯èƒ½ä¼šå¸¦æœ‰ä¸€å®šçš„è¿·æƒ‘æ€§ï¼Œè®©ä½ è§‰å¾—è¿™é“é¢˜ä½¿ç”¨è´ªå¿ƒæˆ–æ˜¯ dp å°±èƒ½å¤Ÿè§£å†³ï¼Œæ‰€ä»¥æœ¬æ–‡æ—¨åœ¨ä»‹ç»å‡ ä¸ªæ¨¡å‹ï¼Œè®©ä½ æ›´å®¹æ˜“é¦–å…ˆå‘æ˜åˆ°è¿™æ˜¯ä¸€é“äºŒåˆ†é—®é¢˜<br><br></br></li></ul><hr><h4 id="äºŒåˆ†-å•è°ƒé˜Ÿåˆ—">äºŒåˆ†+å•è°ƒé˜Ÿåˆ—</h4><ul><li><p>å¯»æ‰¾æ®µè½ æ´›è°· P1419</p></li><li><p>é¢˜ç›®é“¾æ¥ï¼š<a href="https://www.luogu.com.cn/problem/P1419">https://www.luogu.com.cn/problem/P1419</a></p></li><li><p>é¢˜ç›®å¤§æ„ï¼šç»™å®šé•¿åº¦ä¸º n çš„åºåˆ— aï¼Œç»™å®šé•¿åº¦èŒƒå›´[s,t]ï¼Œæ±‚é•¿åº¦åœ¨è¯¥èŒƒå›´å†…çš„è¿ç»­å­åºåˆ—çš„å¹³å‡å€¼çš„æœ€å¤§å€¼ã€‚å³æ±‚$\frac{\sum_{i=start}^{end}a_i}{end-start+1} ,s\leq end-start+1 \leq t$ çš„æœ€å¤§å€¼</p></li><li><p>è¾“å…¥è¾“å‡ºï¼šç»™å®šåºåˆ—é•¿åº¦ n åç»™å®š s å’Œ tï¼Œè€Œåç»™å‡º n ä¸ªåºåˆ—å€¼$a_i$ ($n\leq 10^5,1\leq s\leq t \leq n,|a_i|\leq 10^4$) è¾“å‡ºä¸€ä¸ªä¿ç•™ä¸‰ä½å°æ•°çš„æœ€å¤§å¹³å‡å€¼</p></li><li><p>æ ·ä¾‹</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼š</span><br><span class="line">10</span><br><span class="line">3 5</span><br><span class="line">3 -1 4 -3 7 -3 4 -5 2 -1</span><br><span class="line"></span><br><span class="line">è¾“å‡ºï¼š</span><br><span class="line">2.667</span><br></pre></td></tr></table></figure></li><li><p>åˆ†æï¼šé€šè¿‡è¿™é“é¢˜ä½ å°±åº”è¯¥èƒ½å¤Ÿæ˜ç™½æˆ‘ä¹‹å‰æ‰€è¯´çš„â€œæœ‰äº›é—®é¢˜ä¸å¥½ç›´æ¥æ±‚è§£ç­”æ¡ˆï¼Œç„¶è€Œå¯¹äºæŸä¸ªç­”æ¡ˆå´å¾ˆå¥½åˆ¤æ–­å…¶æ­£ç¡®æ€§â€ï¼Œæœ¬é¢˜æœ‰ä¸¤ä¸ªå…³é”®å·§å¦™çš„æ•°å­¦è½¬æ¢ã€‚</p><ul><li>äºŒåˆ†æœ€å¤§å¹³å‡å€¼ï¼Œå¯¹äºäºŒåˆ†å€¼ mid å°†åºåˆ—æ‰€æœ‰å…ƒç´ éƒ½å‡å» midï¼Œç„¶ååˆ¤æ–­åºåˆ—ä¸­æ˜¯å¦å­˜åœ¨é•¿åº¦ä¸º s~t çš„åºåˆ—å’Œå¤§äºç­‰äºé›¶å³å¯(è¿™é‡Œæ˜¯ä¸€ä¸ªé‡è¦çš„æ•°å­¦è½¬æ¢ï¼Œä¸åŸé—®é¢˜ç­‰ä»·)ï¼Œå¦‚æœä¸å­˜åœ¨å°±è¯´æ˜å¹³å‡å€¼åº”è¯¥æ›´å°ï¼Œåä¹‹ç­”æ¡ˆåº”è¯¥æ›´å¤§</li><li>é‚£ä¹ˆå¦‚ä½•å¿«é€Ÿæ‰¾å‡ºæ»¡è¶³é•¿åº¦èŒƒå›´çš„åºåˆ—å’Œçš„æœ€å¤§å€¼å‘¢ï¼Ÿæˆ‘ä»¬å¯ä»¥å…ˆå¯¹å‡å» mid çš„åºåˆ—æ±‚å‡ºå‰ç¼€å’Œåºåˆ— sumï¼Œäºæ˜¯é—®é¢˜å˜æˆäº†åˆ¤æ–­ $sum_j-sum_i,s\leq j-i+1\leq t$ çš„æœ€å¤§å€¼æ˜¯å¦å¤§äºç­‰äºé›¶ã€‚æ±‚è§£æ—¶æˆ‘ä»¬å¯¹ j éå†ï¼Œæ‰€ä»¥$sum_j$å·²çŸ¥ï¼Œé—®é¢˜ç»§ç»­è½¬åŒ–ä¸ºæ‰¾åˆ°èŒƒå›´å†…æœ€å°çš„ $sum_i$</li><li>å¦‚ä½•å¿«é€Ÿæ‰¾åˆ°å‰é¢å‡ºç°è¿‡çš„æœ€å°å€¼å‘¢ï¼Ÿæˆ‘ä»¬å¯ä»¥ä½¿ç”¨å•è°ƒé˜Ÿåˆ—ç»´æŠ¤(å•è°ƒé˜Ÿåˆ—å¯ä»¥åœ¨è§„å®šé•¿åº¦å†…ç»´æŠ¤æœ€å€¼)ï¼Œæ—¶é—´å¤æ‚åº¦æ§åˆ¶åœ¨ O(n)ï¼Œæ€»æ—¶é—´å¤æ‚åº¦ä¸º O(nlogn)</li></ul></li><li><p>ä»£ç </p></li></ul><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="type">const</span> <span class="type">int</span> N=<span class="number">100010</span>;</span><br><span class="line"><span class="type">int</span> n,s,t,a[N],q[<span class="number">3</span>*N];</span><br><span class="line"><span class="type">double</span> sum[N];</span><br><span class="line"><span class="type">double</span> res;</span><br><span class="line"><span class="function"><span class="type">bool</span> <span class="title">check</span><span class="params">(<span class="type">double</span> mid)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=n;i++) sum[i]=sum[i<span class="number">-1</span>]+(<span class="type">double</span>)a[i]-mid; <span class="comment">// æ±‚å‰ç¼€å’Œ</span></span><br><span class="line"><span class="type">int</span> hh=<span class="number">0</span>,tt=<span class="number">-1</span>;</span><br><span class="line"><span class="keyword">for</span>(<span class="type">int</span> i=s;i&lt;=n;i++) <span class="comment">// ç”±äºæœ€å°é•¿åº¦æ˜¯sï¼Œä»så¼€å§‹å³å¯</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">while</span>(hh&lt;=tt&amp;&amp;sum[q[tt]]&gt;sum[i-s]) tt--; <span class="comment">// å•è°ƒé˜Ÿåˆ—æ ¸å¿ƒä»£ç </span></span><br><span class="line">q[++tt]=i-s;</span><br><span class="line"><span class="keyword">if</span>(hh&lt;=tt&amp;&amp;i-q[hh]&gt;t) hh++; <span class="comment">// é˜Ÿåˆ—é‡Œé¢ç»´æŠ¤çš„é•¿åº¦å¦‚æœå¤§äºtå°±è¦å¼¹å‡º</span></span><br><span class="line"><span class="keyword">if</span>(sum[i]-sum[q[hh]]&gt;=<span class="number">0</span>) <span class="keyword">return</span> <span class="literal">true</span>; <span class="comment">// å•è°ƒé˜Ÿåˆ—é˜Ÿå¤´ä¸€å®šæ˜¯æœ€å°å€¼ï¼Œä¸”åœ¨é•¿åº¦èŒƒå›´å†…</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="built_in">scanf</span>(<span class="string">&quot;%d%d%d&quot;</span>,&amp;n,&amp;s,&amp;t);</span><br><span class="line"><span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=n;i++) <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>,&amp;a[i]);</span><br><span class="line"><span class="type">double</span> l=(<span class="type">double</span>)<span class="number">-1e6</span>,r=(<span class="type">double</span>)<span class="number">1e6</span>;</span><br><span class="line"><span class="keyword">while</span>(r-l&gt;<span class="number">1e-6</span>) <span class="comment">// è¿™é‡Œæ˜¯å®æ•°èŒƒå›´å†…çš„äºŒåˆ†ï¼Œéœ€è¦æ§åˆ¶ç²¾åº¦</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="type">double</span> mid=(l+r)/<span class="number">2</span>;</span><br><span class="line"><span class="keyword">if</span>(<span class="built_in">check</span>(mid)) l=mid;</span><br><span class="line"><span class="keyword">else</span> r=mid;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;%.3lf&quot;</span>,l);</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="äºŒåˆ†-bfs">äºŒåˆ†+bfs</h4><ul><li><p>åˆºæ€å¤§ä½¿ æ´›è°· P1902</p></li><li><p>é¢˜ç›®é“¾æ¥ï¼š<a href="https://www.luogu.com.cn/problem/P1902">https://www.luogu.com.cn/problem/P1902</a></p></li><li><p>é¢˜ç›®å¤§æ„ï¼šç»™å®š n*m çš„çŸ©é˜µï¼Œå…¶ä¸­$p_{ij}$ä¸ºçŸ©é˜µä¸­ç¬¬ i è¡Œç¬¬ j åˆ—çš„å€¼ï¼Œè¦æ±‚ä»ç¬¬ 1 è¡Œåˆ°è¾¾ç¬¬ n è¡Œ(åªèƒ½ç›¸é‚»èµ°ä¸èƒ½è·³ç€èµ°)ï¼Œèµ·ç‚¹å’Œç»ˆç‚¹å¯ä»»æ„é€‰å–(ä½†èµ·ç‚¹å’Œç»ˆç‚¹å¿…é¡»åˆ†åˆ«ä¸ºç¬¬ 1 è¡Œå’Œç¬¬ n è¡Œä¸­çš„æŸç‚¹)ï¼Œå¯¹äºä»»æ„ä¸€æ¡æŠµè¾¾è·¯å¾„å®šä¹‰ä¼¤å®³å€¼ä¸ºè¯¥è·¯å¾„ä¸­çš„æœ€å¤§å€¼ï¼Œé—®ä»èµ·ç‚¹åˆ°ç»ˆç‚¹çš„å®Œæ•´è·¯å¾„æœ€å°‘å—åˆ°çš„ä¼¤å®³å€¼ä¸ºå¤šå°‘ï¼Ÿ</p></li><li><p>è¾“å…¥è¾“å‡ºï¼šç»™å®š n,m åç»™å®š n*m çš„çŸ©é˜µå€¼ $p_{ij}$ (n,m,$p_{ij}$&lt;=1000) è¾“å‡ºä¸€ä¸ªæ•°è¡¨ç¤ºæœ€å°ä¼¤å®³</p></li><li><p>æ ·ä¾‹</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥:</span><br><span class="line">4 2</span><br><span class="line">0 0</span><br><span class="line">3 5</span><br><span class="line">2 4</span><br><span class="line">0 0</span><br><span class="line"></span><br><span class="line">è¾“å‡º:</span><br><span class="line">3</span><br></pre></td></tr></table></figure></li><li><p>åˆ†æï¼šè¿™é“é¢˜å¾ˆå®¹æ˜“ä¼šæƒ³åˆ°äºŒåˆ†ç­”æ¡ˆï¼Œé‚£ä¹ˆå¯¹äºæ¯ä¸ªäºŒåˆ†å€¼ mid ä»èµ·ç‚¹è·‘ä¸€é bfsï¼Œè¿‡ç¨‹ä¸­å¦‚æœæœç´¢ç‚¹çŸ©é˜µå€¼ val[i][j]&gt;mid é‚£ä¹ˆè·³è¿‡å®ƒï¼Œæœ€åç”¨åˆ¤æ–­èƒ½å¦åˆ°è¾¾æœ€åä¸€è¡Œå¹¶ä»¥æ­¤ä½œä¸º check å‡½æ•°çš„è¿”å›ä¾æ®å³å¯ å¤æ‚åº¦æœ€å O(n*m*log(max $p_{ij}$)) ä½†å®é™…ä¸Šè¦å°å¾—å¤š</p></li><li><p>ä»£ç </p></li></ul><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="type">const</span> <span class="type">int</span> N=<span class="number">1010</span>;</span><br><span class="line"><span class="type">int</span> n,m,cost[N][N],st;</span><br><span class="line"><span class="type">int</span> dx[<span class="number">4</span>]=&#123;<span class="number">1</span>,<span class="number">0</span>,<span class="number">-1</span>,<span class="number">0</span>&#125;,dy[<span class="number">4</span>]=&#123;<span class="number">0</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">-1</span>&#125;;</span><br><span class="line"><span class="type">bool</span> vis[N][N];</span><br><span class="line"><span class="function"><span class="type">bool</span> <span class="title">check</span><span class="params">(<span class="type">int</span> x,<span class="type">int</span> y,<span class="type">int</span> t)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">memset</span>(vis,<span class="number">0</span>,<span class="keyword">sizeof</span> vis);</span><br><span class="line">    vis[x][y]=<span class="number">1</span>;</span><br><span class="line">    queue&lt;pair&lt;<span class="type">int</span>,<span class="type">int</span>&gt;&gt; q;</span><br><span class="line">    q.<span class="built_in">push</span>(&#123;x,y&#125;);</span><br><span class="line">    <span class="keyword">while</span>(!q.<span class="built_in">empty</span>())</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">auto</span> u=q.<span class="built_in">front</span>(); q.<span class="built_in">pop</span>();</span><br><span class="line">        <span class="keyword">if</span>(u.first==n) <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;=<span class="number">3</span>;i++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="type">int</span> xx=u.first+dx[i],yy=u.second+dy[i];</span><br><span class="line">            <span class="keyword">if</span>(xx&lt;<span class="number">1</span>||xx&gt;n||yy&lt;<span class="number">1</span>||yy&gt;m) <span class="keyword">continue</span>; <span class="comment">//è¶…å‡ºè¾¹ç•Œçš„ä¸å†æœç´¢</span></span><br><span class="line">            <span class="keyword">if</span>(cost[xx][yy]&gt;t||vis[xx][yy]) <span class="keyword">continue</span>; <span class="comment">//è¢«æœè¿‡çš„å’Œè¶…å‡ºæœ¬æ¬¡åˆ¤æ–­é™åº¦çš„ä¸å†æœç´¢</span></span><br><span class="line">            vis[xx][yy]=<span class="number">1</span>;</span><br><span class="line">            q.<span class="built_in">push</span>(&#123;xx,yy&#125;);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    ios::<span class="built_in">sync_with_stdio</span>(<span class="literal">false</span>);cin.<span class="built_in">tie</span>(<span class="number">0</span>);cout.<span class="built_in">tie</span>(<span class="number">0</span>);</span><br><span class="line">    cin&gt;&gt;n&gt;&gt;m;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=n;i++)</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> j=<span class="number">1</span>;j&lt;=m;j++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="type">int</span> x; cin&gt;&gt;x;</span><br><span class="line">        st=<span class="built_in">max</span>(st,x);</span><br><span class="line">        cost[i][j]=x;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="type">int</span> l=<span class="number">0</span>,r=st;</span><br><span class="line">    <span class="keyword">while</span>(l&lt;r)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="type">int</span> mid=l+r &gt;&gt;<span class="number">1</span>;</span><br><span class="line">        <span class="keyword">if</span>(<span class="built_in">check</span>(<span class="number">1</span>,<span class="number">1</span>,mid)) r=mid;</span><br><span class="line">        <span class="keyword">else</span> l=mid+<span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    cout&lt;&lt;l;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="äºŒåˆ†-dfs-å›¾è®º">äºŒåˆ†+dfs å›¾è®º</h4><p><s>æˆ‘çš„æ–¹æ³•ä¸æ˜¯æ­£è§£ä½†ä»ç„¶æ˜¯è¿‡äº† å»ºè®®æœ€åçœ‹ä¸€ä¸‹æ­£è§£</s></p><ul><li><p>é€šå¾€å¥¥æ ¼ç‘ç›çš„é“è·¯ æ´›è°· P1462</p></li><li><p>é¢˜ç›®é“¾æ¥ï¼š<a href="https://www.luogu.com.cn/problem/P1462">https://www.luogu.com.cn/problem/P1462</a></p></li><li><p>é¢˜ç›®å¤§æ„ï¼šç»™å®š n ä¸ªç‚¹ m æ¡è¾¹çš„æ— å‘å›¾ï¼Œæ¯ç»è¿‡ä¸€æ¡è¾¹æŸå¤±ç›¸åº”è¡€é‡ï¼Œæ¯ç»è¿‡ä¸€ä¸ªç‚¹æŸå¤±ç›¸åº”é‡‘é’±ï¼Œç»™å®šåˆå§‹è¡€é‡ b(é€”ä¸­è¡€é‡ä¸èƒ½ä¸ºè´Ÿ)ï¼Œé—®ä» 1 å·ç‚¹åˆ° n å·ç‚¹çš„è·¯å¾„ä¸­ï¼Œæ‰€ç»è¿‡çš„æ‰€æœ‰ç‚¹ä¸­æœ€å¤§æŸå¤±çš„é‡‘é’±çš„æœ€å°å€¼æ˜¯å¤šå°‘?å¦‚æœåˆ°ä¸äº†ç‚¹ n å°±è¾“å‡ºâ€œAFKâ€</p></li><li><p>è¾“å…¥è¾“å‡ºï¼šé¦–å…ˆç»™å®š n,m,bï¼Œæ¥ä¸‹æ¥ç»™å®š n ä¸ªå€¼ fi è¡¨ç¤ºç»è¿‡ç‚¹ i éœ€è¦ç¼´è´¹ fiï¼Œç„¶åç»™å®šæ¯æ¡è¾¹çš„ä¸¤ç«¯ç‚¹å’Œç»è¿‡è¯¥è¾¹æŸå¤±çš„è¡€é‡ ai,bi,ci (n&lt;=1e4 m&lt;=5e4 b,ci,fi&lt;=1e9) è¾“å‡ºæœ€å°æŸå¤±å€¼æˆ–â€œAFKâ€</p></li><li><p>æ ·ä¾‹</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥:</span><br><span class="line">4 4 8</span><br><span class="line">8 5 6 10</span><br><span class="line">2 1 2</span><br><span class="line">2 4 1</span><br><span class="line">1 3 4</span><br><span class="line">3 4 3</span><br><span class="line"></span><br><span class="line">è¾“å‡º:</span><br><span class="line">10</span><br></pre></td></tr></table></figure></li><li><p>åˆ†æï¼š&quot;æœ€å¤§å€¼çš„æœ€å°å€¼&quot;æ˜¯ä¸æ˜¯å¾ˆç†Ÿæ‚‰ï¼Ÿå¸¦ç€è¿™ä¸ªé¢˜çœ¼çš„åæœ‰å…«ä¹éƒ½æ˜¯äºŒåˆ†ç­”æ¡ˆï¼è¿™é“é¢˜è·Ÿä¸Šä¸€é“é¢˜å‡ ä¹ä¸€æ ·ï¼Œå”¯ä¸€ä¸åŒçš„æ˜¯è¦å¤šç»´æŠ¤ä¸€ä¸ªè¡€é‡ã€‚è¿™é“é¢˜å¯ä»¥ä½¿ç”¨ dfsï¼Œåœ¨æŠŠè¡€é‡ç»´æŠ¤åœ¨ dfs å‚æ•°ä¸­ï¼Œè¿˜æ˜¯ä¸Šä¸€é¢˜çš„æ¨¡å¼ï¼Œé™å®šæœ€å¤§æŸå¤±é‡‘é’± mid åˆ¤æ–­èƒ½ä¸èƒ½æœåˆ°ç»ˆç‚¹ nã€‚ç„¶è€Œæ­£è§£æ˜¯è·‘ spfa ä¸è¿‡æˆ‘çš„ç¨‹åºä»ç„¶è¿‡äº†ï¼Œè€Œä¸”æ ¹æ®è¿è¡Œæ—¶é—´æ¥çœ‹å¤æ‚åº¦ä¸ç®—å¤ªç³Ÿç³•ä½†ä»æ—§æ¯”äºŒåˆ†+spfa å·®äº†ä¸å°‘ æœ€åå¤æ‚åº¦ O(n*m*log(max fi)) ä½†å®é™…è¦å°å¾—å¤š</p><blockquote><ul><li>spfa å¤æ‚åº¦ä¸º O(k*m) å®é™…ä¸Šæˆ‘çš„è§£æ³•å°±æ˜¯æš´åŠ›ç‰ˆçš„ spfa è§£æ³• (ä½†å¦‚æœ spfa è¢«å¡äº†ä¼šé€€åŒ–æˆ O(n*m) <s>æ‰€ä»¥ä¸€æ ·</s>)</li><li>ä½æƒ…å•†æ˜¯æˆ‘å½“æ—¶å‹æ ¹æ²¡æƒ³åˆ° spfaï¼Œé«˜æƒ…å•†æ˜¯ dfs å¯è¯»æ€§è¦æ¯” spfa å¥½ç†è§£å¾—å¤š</li></ul></blockquote></li><li><p>ä»£ç </p></li></ul><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="type">const</span> <span class="type">int</span> N=<span class="number">600010</span>;</span><br><span class="line"><span class="type">int</span> n,m,maxx,idx,s;</span><br><span class="line"><span class="type">int</span> c[N],e[N],head[N],nx[N],w[N];</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">add</span><span class="params">(<span class="type">int</span> a,<span class="type">int</span> b,<span class="type">int</span> v)</span> <span class="comment">//å»ºå›¾</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    e[idx]=b,w[idx]=v,nx[idx]=head[a],head[a]=idx++;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">bool</span> <span class="title">dfs</span><span class="params">(<span class="type">int</span> now,<span class="type">int</span> fa,<span class="type">int</span> up,<span class="type">int</span> ss)</span> <span class="comment">// nowæ˜¯å½“å‰æ‰€åœ¨ç‚¹ faæ˜¯æœåˆ°nowçš„å‰é©±èŠ‚ç‚¹ upæ˜¯äºŒåˆ†å€¼å³æœ€å¤§æŸå¤±é‡‘é’± ssæ˜¯å½“å‰çŠ¶æ€çš„è¡€é‡</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(now==n) <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=head[now];~i;i=nx[i])</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="type">int</span> j=e[i];</span><br><span class="line">        <span class="keyword">if</span>(j==fa||c[j]&gt;up||ss&lt;w[i]) <span class="keyword">continue</span>; <span class="comment">// 1.j==faæ˜¯ä¸å½±å“æ­£ç¡®æ€§çš„å¿…è¦å‰ªæ 2.å¦‚æœå°†è¦æœçš„è¿™ä¸ªç‚¹ä¼šä½¿è¡€é‡ä¸ºè´Ÿæˆ–å¤§äºé‡‘é’±å°±è·³è¿‡</span></span><br><span class="line">        <span class="keyword">if</span>(<span class="built_in">dfs</span>(j,now,up,ss-w[i])) <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">bool</span> <span class="title">check</span><span class="params">(<span class="type">int</span> up)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(<span class="built_in">dfs</span>(<span class="number">1</span>,<span class="number">-1</span>,up,s)) <span class="keyword">return</span> <span class="literal">true</span>; <span class="comment">//çœ‹çœ‹èƒ½ä¸èƒ½æ»¡è¶³é‡‘é’±æŸå¤±å°‘äºup</span></span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    ios::<span class="built_in">sync_with_stdio</span>(<span class="literal">false</span>);cin.<span class="built_in">tie</span>(<span class="number">0</span>);cout.<span class="built_in">tie</span>(<span class="number">0</span>);</span><br><span class="line">    cin&gt;&gt;n&gt;&gt;m&gt;&gt;s;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=n;i++)</span><br><span class="line">    &#123;</span><br><span class="line">        cin&gt;&gt;c[i];</span><br><span class="line">        maxx=<span class="built_in">max</span>(maxx,c[i]);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">memset</span>(head,<span class="number">-1</span>,<span class="keyword">sizeof</span> head);</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=m;i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="type">int</span> a,b,v; cin&gt;&gt;a&gt;&gt;b&gt;&gt;v;</span><br><span class="line">        <span class="built_in">add</span>(a,b,v),<span class="built_in">add</span>(b,a,v); <span class="comment">//æ³¨æ„æ˜¯æ— å‘å›¾</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="type">int</span> l=<span class="built_in">max</span>(c[<span class="number">1</span>],c[n]),r=maxx+<span class="number">1</span>,flag=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span>(l&lt;r)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="type">int</span> mid=(<span class="type">long</span> <span class="type">long</span>)l+r &gt;&gt;<span class="number">1</span>;</span><br><span class="line">        <span class="keyword">if</span>(<span class="built_in">check</span>(mid)) r=mid,flag=<span class="number">1</span>;</span><br><span class="line">        <span class="keyword">else</span> l=mid+<span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(flag) cout&lt;&lt;l;</span><br><span class="line">    <span class="keyword">else</span> cout&lt;&lt;<span class="string">&quot;AFK&quot;</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="äºŒåˆ†-å¹¶æŸ¥é›†">äºŒåˆ†+å¹¶æŸ¥é›†</h4><ul><li><p>éƒ¨è½åˆ’åˆ† æ´›è°· P4047 [JSOI2010]</p></li><li><p>é¢˜ç›®é“¾æ¥ï¼š<a href="https://www.luogu.com.cn/problem/P4047">https://www.luogu.com.cn/problem/P4047</a></p></li><li><p>é¢˜ç›®å¤§æ„ï¼šäºŒç»´å¹³é¢ä¸Šç»™å®š n ä¸ªç‚¹çš„åæ ‡ï¼Œç°åœ¨è¦å°† n ä¸ªç‚¹åˆ’åˆ†ä¸º k ä¸ªéç©ºé›†åˆï¼Œå¯¹äºä¸€ç§åˆ’åˆ†æ–¹æ³•ï¼Œå®šä¹‰ä¸¤ä¸ªé›†åˆçš„è·ç¦»ä¸ºä¸¤é›†åˆä¸­ç›´çº¿è·ç¦»æœ€è¿‘çš„ä¸¤ä¸ªç‚¹ï¼Œæ±‚å‡ºä¸€ç§åˆ’åˆ†ä½¿å¾—æœ€è¿‘çš„ä¸¤ä¸ªé›†åˆè·ç¦»çš„æœ€å¤§</p></li><li><p>è¾“å…¥è¾“å‡ºï¼šç»™å®š n kï¼Œè€Œåç»™å®š n ä¸ªç‚¹çš„æ¨ªçºµåæ ‡ $x_i y_i$ ( $n,k \le10^3$ , $x_i,y_i \le10^4$ ) è¾“å‡ºä¿ç•™ä¸¤ä½å°æ•°çš„æœ€ä¼˜åˆ’åˆ†æœ€è¿‘çš„ä¸¤ä¸ªé›†åˆè·ç¦»</p></li><li><p>æ ·ä¾‹</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥:</span><br><span class="line">9 3</span><br><span class="line">2 2</span><br><span class="line">2 3</span><br><span class="line">3 2</span><br><span class="line">3 3</span><br><span class="line">3 5</span><br><span class="line">3 6</span><br><span class="line">4 6</span><br><span class="line">6 2</span><br><span class="line">6 3</span><br><span class="line"></span><br><span class="line">è¾“å‡º:</span><br><span class="line">2.00</span><br></pre></td></tr></table></figure></li><li><p>åˆ†æï¼šç»å…¸æœ€å¤§å€¼çš„æœ€å°å€¼ï¼Œç”±äºè¿™é“é¢˜éœ€è¦ç»´æŠ¤é›†åˆå› æ­¤æˆ‘ä»¬å¯ä»¥ä½¿ç”¨å¹¶æŸ¥é›†ã€‚æˆ‘ä»¬å¯¹äºæœ€çŸ­è·ç¦»è¿›è¡ŒäºŒåˆ†ç­”æ¡ˆï¼Œå¯¹äºè·ç¦» midï¼ŒäºŒé‡å¾ªç¯éå†æ¯ä¸€ä¸ªç‚¹å¯¹ $p_1,p_2$ï¼Œå¦‚æœ $p_1,p_2$ç›´çº¿è·ç¦»å°äº mid ä¸”è¿™ä¿©ç‚¹ä¸åœ¨ä¸€ä¸ªé›†åˆå†…å°±å®ƒä»¬åˆå¹¶ã€‚æœ€åçœ‹è¢«åˆ’åˆ†äº†å‡ ä¸ªé›†åˆå³å¯ï¼Œå¦‚æœå¯¹äº mid æ¥è¯´é›†åˆæ•°å¤§äºç­‰äº kï¼Œé‚£ä¹ˆæ˜¾ç„¶å¯ä»¥ç»§ç»­è®© mid å˜å°ï¼Œå¦åˆ™éœ€è¦å°† mid å¢å¤§ã€‚æ€»æ—¶é—´å¤æ‚åº¦ O( $n^{2}*log(?)$ )ï¼Œåæ ‡æœ€å¤§å€¼ä¸º $10^4$ ï¼Œä¸”æœ¬é¢˜äºŒåˆ†éœ€è¦åœ¨å°æ•°ä¸ŠäºŒåˆ†ç²¾åº¦è¦æ§åˆ¶åœ¨ $r-l \ge 10^{-6}$ï¼Œæ‰€ä»¥å¯¹æ•°é¡¹æœ€å¤§çº¦ä¸º log( $10^{10}$ )</p></li><li><p>ä»£ç </p></li></ul><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;set&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> x first</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> y second</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> db double</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">typedef</span> pair&lt;<span class="type">int</span>,<span class="type">int</span>&gt; pii;</span><br><span class="line"><span class="type">const</span> <span class="type">int</span> N=<span class="number">1010</span>;</span><br><span class="line"><span class="type">int</span> n,k,pre[N];</span><br><span class="line">pii q[N];</span><br><span class="line"><span class="function">db <span class="title">dis</span><span class="params">(pii p,pii q)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> (db)<span class="built_in">sqrt</span>((p.x-q.x)*(p.x-q.x)+(p.y-q.y)*(p.y-q.y));</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">find</span><span class="params">(<span class="type">int</span> t)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(t==pre[t]) <span class="keyword">return</span> pre[t];</span><br><span class="line">    <span class="keyword">return</span> pre[t]=<span class="built_in">find</span>(pre[t]);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">merge</span><span class="params">(<span class="type">int</span> k1,<span class="type">int</span> k2)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    k1=<span class="built_in">find</span>(k1),k2=<span class="built_in">find</span>(k2);</span><br><span class="line">    <span class="keyword">if</span>(k1!=k2) pre[k1]=k2;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">bool</span> <span class="title">check</span><span class="params">(db u)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="type">int</span> cnt=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;N;i++) pre[i]=i; <span class="comment">// æ³¨æ„æ¯æ¬¡éƒ½è¦åˆå§‹åŒ–</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=n;i++)</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> j=i+<span class="number">1</span>;j&lt;=n;j++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span>(<span class="built_in">dis</span>(q[i],q[j])&gt;=u) <span class="keyword">continue</span>; <span class="comment">// è·ç¦»å¤§äºuå°±è·³è¿‡å¦åˆ™åˆå¹¶</span></span><br><span class="line">        <span class="built_in">merge</span>(i,j);</span><br><span class="line">    &#125;</span><br><span class="line">    set&lt;<span class="type">int</span>&gt; s;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=n;i++) s.<span class="built_in">insert</span>(<span class="built_in">find</span>(i)); <span class="comment">// åˆ©ç”¨setåˆ¤é‡ç»Ÿè®¡é›†åˆä¸ªæ•° è¿™é‡Œå¯ä»¥ä¼˜åŒ–å¤æ‚åº¦ä¸ç”¨set</span></span><br><span class="line">    <span class="keyword">return</span> s.<span class="built_in">size</span>()&gt;=k;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%d%d&quot;</span>,&amp;n,&amp;k);</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=n;i++) <span class="built_in">scanf</span>(<span class="string">&quot;%d%d&quot;</span>,&amp;q[i].x,&amp;q[i].y);</span><br><span class="line">    db l=<span class="number">0</span>,r=<span class="number">1e5</span>;</span><br><span class="line">    <span class="keyword">while</span>(r-l&gt;=<span class="number">1e-6</span>) <span class="comment">// æ§åˆ¶ç²¾åº¦ é¢˜ç›®è¦æ±‚ä¸¤ä½å°æ•° äºŒåˆ†ç²¾åº¦åœ¨äº”å…­ä½æ¯”è¾ƒä¿é™©</span></span><br><span class="line">    &#123;</span><br><span class="line">        db mid=(l+r)/<span class="number">2</span>;</span><br><span class="line">        <span class="keyword">if</span>(<span class="built_in">check</span>(mid)) l=mid;</span><br><span class="line">        <span class="keyword">else</span> r=mid;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%.2lf&quot;</span>,l);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="äºŒåˆ†-å­—ç¬¦ä¸²å“ˆå¸Œ">äºŒåˆ†+å­—ç¬¦ä¸²å“ˆå¸Œ</h4><blockquote><p>è¿™é“é¢˜å› ä¸ºåŸæ•°æ®é‡è¿‡å°æ‰€ä»¥æ˜¯ä¸ªå¤§æ°´é¢˜ï¼Œä½†é¢˜ç›®æœ¬èº«å¾ˆå¥½ï¼Œæ‰€ä»¥æˆ‘ä»¬ä¸å¦¨æ€è€ƒä¸€ä¸‹æ•°æ®é‡å¤§æ—¶çš„ç®—æ³•</p></blockquote><ul><li><p>æˆ‘åœ¨å“ªï¼Ÿ acwing 1460</p></li><li><p>é¢˜ç›®é“¾æ¥ï¼š<a href="https://www.acwing.com/problem/content/1462/">https://www.acwing.com/problem/content/1462/</a></p></li><li><p>é¢˜ç›®å¤§æ„ï¼šç»™å®šé•¿åº¦ä¸º N çš„å­—ç¬¦ä¸²ï¼Œæ‰¾åˆ°æœ€å°çš„é•¿åº¦ kï¼Œä½¿å¾—åŸå­—ç¬¦ä¸²ä¸­ä»»æ„é•¿åº¦ä¸º k çš„è¿ç»­å­ä¸²éƒ½ä¸ç›¸åŒ</p></li><li><p>è¾“å…¥è¾“å‡ºï¼šç»™å®šé•¿åº¦ Nï¼Œè€Œåç»™å‡ºé•¿åº¦ä¸º N çš„å­—ç¬¦ä¸²ï¼Œè¾“å‡ºæœ€å°æ»¡è¶³é¢˜æ„çš„é•¿åº¦ kã€‚ <strong>åŸæ•°æ®åªæœ‰$N\le100$ï¼Œæˆ‘ä»¬æ¥æ€è€ƒ$N\le10^5$æ—¶çš„è§£æ³•</strong></p></li><li><p>æ ·ä¾‹</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥:</span><br><span class="line">7</span><br><span class="line">ABCDABC</span><br><span class="line"></span><br><span class="line">è¾“å‡º:</span><br><span class="line">4</span><br></pre></td></tr></table></figure></li><li><p>åˆ†æï¼šå¦‚æœ$N\le10^5$æ˜¾ç„¶æˆ‘ä»¬éœ€è¦è®¾è®¡ä¸€ä¸ª$NlogN$çš„ç®—æ³•ï¼Œæœ¬é—®é¢˜æ˜¾ç„¶æ»¡è¶³å•è°ƒæ€§ï¼Œå³å¦‚æœæœ€ç»ˆç­”æ¡ˆä¸º resï¼Œé‚£ä¹ˆæ‰€æœ‰å°äº res çš„ç­”æ¡ˆå‡ä¸åˆæ³•è€Œå¤§äº res çš„ç­”æ¡ˆå…¨éƒ¨åˆæ³•ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥ä½¿ç”¨äºŒåˆ†ç­”æ¡ˆã€‚é‚£ä¹ˆå¦‚ä½•å¿«é€Ÿåˆ¤æ–­å¯¹äºé•¿åº¦ mid åŸå­—ç¬¦ä¸²æ˜¯å¦æœ‰ç›¸åŒçš„å­—ä¸²å‘¢ï¼Ÿæ˜¾ç„¶å¯ä»¥ä½¿ç”¨å­—ç¬¦ä¸²å“ˆå¸Œï¼Œé¢„å¤„ç†å‡ºåŸå­—ç¬¦ä¸²å“ˆå¸Œå€¼ï¼Œä»å‰å¾€åéå†ç®—å‡ºæ‰€æœ‰é•¿åº¦ä¸º mid çš„å“ˆå¸Œå€¼ï¼Œå†åˆ¤æ–­æ˜¯å¦æœ‰å‡ºç°è¶…è¿‡ä¸€æ¬¡çš„å“ˆå¸Œå€¼å³å¯ï¼Œæ¯æ¬¡éå† O(N) æ€»å¤æ‚åº¦ O(NlogN)</p></li><li><p>ä»£ç </p></li></ul><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;unordered_map&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">typedef</span> <span class="type">unsigned</span> <span class="type">long</span> <span class="type">long</span> ull;</span><br><span class="line"><span class="type">const</span> <span class="type">int</span> N=<span class="number">110</span>;</span><br><span class="line">ull h[N],p[N];</span><br><span class="line"><span class="type">char</span> str[N];</span><br><span class="line"><span class="type">int</span> n;</span><br><span class="line"><span class="function">ull <span class="title">sum</span><span class="params">(<span class="type">int</span> l,<span class="type">int</span> r)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> h[r]-h[l<span class="number">-1</span>]*p[r-l+<span class="number">1</span>]; <span class="comment">// å“ˆå¸Œæ˜ å°„ ç®—å‡ºå­—ç¬¦ä¸²ä¸‹æ ‡ l~r çš„å“ˆå¸Œå€¼</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">bool</span> <span class="title">check</span><span class="params">(<span class="type">int</span> u)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    unordered_map&lt;ull,<span class="type">bool</span>&gt; hash;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i+u<span class="number">-1</span>&lt;=n;i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="type">int</span> j=i+u<span class="number">-1</span>;</span><br><span class="line">        <span class="keyword">if</span>(hash[<span class="built_in">sum</span>(i,j)]) <span class="keyword">return</span> <span class="literal">false</span>; <span class="comment">// å¦‚æœå‡ºç°è¿‡è¿™ä¸ªå“ˆå¸Œå€¼ ç›´æ¥åˆ¤æ–­å¤±è´¥</span></span><br><span class="line">        hash[<span class="built_in">sum</span>(i,j)]=<span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    cin&gt;&gt;n&gt;&gt;str+<span class="number">1</span>;</span><br><span class="line">    p[<span class="number">0</span>]=<span class="number">1</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=n;i++)</span><br><span class="line">    &#123;</span><br><span class="line">        p[i]=p[i<span class="number">-1</span>]*<span class="number">131</span>;</span><br><span class="line">        h[i]=h[i<span class="number">-1</span>]*<span class="number">131</span>+str[i]; <span class="comment">// é¢„å¤„ç†å“ˆå¸Œå‡½æ•°</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="type">int</span> l=<span class="number">1</span>,r=n;</span><br><span class="line">    <span class="keyword">while</span>(l&lt;r)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="type">int</span> mid=l+r &gt;&gt;<span class="number">1</span>;</span><br><span class="line">        <span class="keyword">if</span>(<span class="built_in">check</span>(mid)) r=mid;</span><br><span class="line">        <span class="keyword">else</span> l=mid+<span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    cout&lt;&lt;l;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="äºŒåˆ†-è´ªå¿ƒ">äºŒåˆ†+è´ªå¿ƒ</h4><blockquote><p>è´ªå¿ƒåœ¨äºŒåˆ†ä¸­å‡ºç°çš„é¢˜ç°å¸¸ç°å¸¸çš„å¤šï¼Œåƒ leetcode ä¸­å‡ ä¹æ‰€æœ‰äºŒåˆ†ç­”æ¡ˆå†…æ ¸éƒ½æ˜¯ä¸ªè´ªå¿ƒã€‚ç”±äºç¯‡å¹…åŸå› æœ¬åˆä»…é€‰ä¸€é¢˜ã€‚</p></blockquote><ul><li><p>Match Points codeforces 1156C</p></li><li><p>é¢˜ç›®é“¾æ¥ï¼š<a href="https://codeforces.com/problemset/problem/1156/C">https://codeforces.com/problemset/problem/1156/C</a></p></li><li><p>é¢˜ç›®å¤§æ„ï¼šç»™å®šé•¿åº¦ä¸º n çš„åºåˆ—å’Œä¸€ä¸ªæ•° zï¼Œé—®åºåˆ—ä¸­æœ‰æœ€å¤šå¤šå°‘å¯¹$i,j$ æ»¡è¶³ $|a_i-a_j|\geq z$ï¼Œå…¶ä¸­$i,j$ä¸é‡å¤é€‰æ‹©</p></li><li><p>è¾“å…¥è¾“å‡ºï¼šç»™å®š nï¼Œzï¼Œç„¶åç»™å®š n ä¸ªåºåˆ—å€¼$a_i$ ($2\leq n\leq 2*10^5,1\leq z\leq 10^9$) è¾“å‡ºä¸€ä¸ªæœ€å¤§å¯¹æ•°</p></li><li><p>æ ·ä¾‹</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼š</span><br><span class="line">6 4</span><br><span class="line">17 13 16 12 15 11</span><br><span class="line"></span><br><span class="line">è¾“å‡ºï¼š</span><br><span class="line">3</span><br></pre></td></tr></table></figure></li><li><p>åˆ†æï¼šä¹ä¸€çœ‹èƒ½ç›´è§‚çš„æƒ³åˆ°äºŒåˆ†å›¾æœ€å¤§åŒ¹é…ä½†æ˜¯å¾ˆé—æ†¾æ•°æ®é‡ä¸å…è®¸ã€‚é‚£ä¹ˆå¦‚ä½•è´ªå¿ƒå‘¢ï¼Ÿé—®é¢˜çš„å…³é”®åœ¨äºå¯¹äº$a_i$å¦‚æœæœ‰å¤šä¸ª$a_j$æ»¡è¶³è¦æ±‚æˆ‘ä»¬åº”è¯¥ä½¿ç”¨å“ªä¸ª$a_j$å‘¢ï¼Ÿå¦‚æœä½ æƒ³çš„æ˜¯æŒ‰é¡ºåºæœ€å°çš„åŒ¹é…æœ€å°çš„é‚£å°±é”™äº†ï¼Œæ¯”å¦‚ z=2 æ—¶æœ‰æ•°æ®$2 5 7 8$ ç­”æ¡ˆæ˜¯ä¸¤å¯¹ï¼Œä½†å¦‚æœä½¿ç”¨ 2 åŒ¹é… 5 é‚£ä¹ˆåªèƒ½å‡‘å‡ºä¸€å¯¹</p><ul><li>å…ˆæ’åºï¼Œç„¶åäºŒåˆ†ç­”æ¡ˆé•¿åº¦ midï¼Œæˆ‘ä»¬åªè¦åˆ¤æ–­å‰ mid ä¸ª( $a_1$ ~ $a_{mid}$ )å’Œå mid ä¸ª( $a_{n-mid+1}$ ~ $a_{n}$ )èƒ½å¦ä¸¥æ ¼æŒ‰é¡ºåºä¾æ¬¡åŒ¹é…å³å¯ï¼Œè¿™é‡Œæ»¡è¶³å•è°ƒæ€§</li><li>æœ¬é¢˜çš„è´ªå¿ƒå°±ä½“ç°åœ¨â€œå‰ mid å’Œå mid ä¾æ¬¡åŒ¹é…â€ï¼Œè€Œä¸æ˜¯éšä¾¿æŒ‘ä¸€ä¸ªæ»¡è¶³çš„åŒ¹é…</li><li>ä¸ºä»€ä¹ˆè¦åˆ¤å®šæ—¶è¦ä¸¥æ ¼æŒ‰é¡ºåºå‘¢ï¼Ÿç”±äºæ’åºååºåˆ—å•è°ƒä¸é€’å‡ï¼Œå¦‚æœå‰ mid ä¸­çš„ç¬¬ k ä¸ªæ•°åŒ¹é…ä¸äº†å mid ä¸­çš„ç¬¬ k ä¸ªæ•°ï¼Œå³$a_{n-mid+k}-a_k&gt;z$ï¼Œé‚£ä¹ˆå¦‚æœæƒ³è¦åŒ¹é…$a_k$åˆ™éœ€è¦æ‰¾åˆ°æ›´å¤§çš„æ•°ï¼Œå³ä¸‹æ ‡å¤§äº$n-mid+k$çš„ï¼Œé‚£ä¹ˆåé¢å¿…ç„¶æœ‰ä¸€ä¸ªæ— æ³•åŒ¹é…æˆåŠŸï¼Œå› ä¸ºåé¢ mid ä¸ªæ•°é•¿åº¦ä¸º midï¼Œä¸­é—´ç©ºå‡ºä¸€ä¸ªåé¢å¦‚æœå…¨åŒ¹é…ä¸Šé‚£ä¹ˆé•¿åº¦å¿…ç„¶ä¸º mid+1 è¿™æ˜¾ç„¶æ˜¯ä¸å¯èƒ½çš„</li></ul></li><li><p>ä»£ç </p></li></ul><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="type">const</span> <span class="type">int</span> N=<span class="number">200010</span>;</span><br><span class="line"><span class="type">long</span> <span class="type">long</span> n,z,a[N];</span><br><span class="line"><span class="function"><span class="type">bool</span> <span class="title">check</span><span class="params">(<span class="type">int</span> mid)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=mid;i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="type">int</span> j=n-mid+i;</span><br><span class="line">        <span class="keyword">if</span>(a[j]-a[i]&lt;z) <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    ios::<span class="built_in">sync_with_stdio</span>(<span class="literal">false</span>);cin.<span class="built_in">tie</span>(<span class="number">0</span>);cout.<span class="built_in">tie</span>(<span class="number">0</span>);</span><br><span class="line">    cin&gt;&gt;n&gt;&gt;z;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=n;i++) cin&gt;&gt;a[i];</span><br><span class="line">    <span class="built_in">sort</span>(a+<span class="number">1</span>,a+n+<span class="number">1</span>);</span><br><span class="line">    <span class="type">int</span> l=<span class="number">0</span>,r=n&gt;&gt;<span class="number">1</span>;</span><br><span class="line">    <span class="keyword">while</span>(l&lt;r)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="type">int</span> mid=l+r+<span class="number">1</span> &gt;&gt;<span class="number">1</span>;</span><br><span class="line">        <span class="keyword">if</span>(<span class="built_in">check</span>(mid)) l=mid;</span><br><span class="line">        <span class="keyword">else</span> r=mid<span class="number">-1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    cout&lt;&lt;l;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>åˆ†æ•°è§„åˆ’</p><ul><li>åˆ†æ•°è§„åˆ’æ˜¯ä¸€ä¸ªç»å…¸çš„ä½¿ç”¨äºŒåˆ†æ±‚è§£çš„æ¨¡å‹</li><li>è¯¥é—®é¢˜ä¸ºç»™å®šä¸€ä¸ªé•¿åº¦ä¸º n çš„åºåˆ— $f_i,g_i$ æ±‚ $\frac{\sum_{i = 1}^n f_i * x_i}{\sum_ {i=1}^n g_i * x_i}$ çš„æœ€å¤§å€¼ å…¶ä¸­ $x_i$ åªèƒ½å– 0 æˆ– 1</li><li>æ˜“è¯å¾—è¯¥å¼å¯¹ç­”æ¡ˆå…·æœ‰å•è°ƒæ€§ï¼Œå°†å…¶è½¬æ¢ä¸ºäºŒåˆ†é—®é¢˜è®¾è¯¥å¼å¯èƒ½å–å€¼ä¸º midï¼Œæˆ‘ä»¬ç°åœ¨è¦åˆ¤æ–­åŸå¼å¤§äº mid æ˜¯å¦æœ‰è§£ï¼Œåˆ™ç­‰å¼ä¸¤è¾¹å˜æ¢å¯å¾— $\sum_{i=1}^n(f_i -mid*g_i)*x_i\geq0$</li><li>æœ€ä¼˜è§£æ˜¾ç„¶å½“ $f_i -mid*g_i$ ä¸ºæ­£æ—¶ä»¤ $x_i=1$ å¦åˆ™ä¸ºé›¶å³å¯ï¼Œå¦‚æœè¿™æ ·å–æœ€åçš„æ€»å’Œéƒ½å°äºé›¶åˆ™å‘å°ç­”æ¡ˆäºŒåˆ†å¦åˆ™å‘å¤§ç­”æ¡ˆäºŒåˆ†</li></ul></blockquote><h4 id="åˆ†æ•°è§„åˆ’-èƒŒåŒ…">åˆ†æ•°è§„åˆ’+èƒŒåŒ…</h4><ul><li><p>Talent Show G æ´›è°· P4377 [USACO18OPEN]</p></li><li><p>é¢˜ç›®é“¾æ¥ï¼š<a href="https://www.luogu.com.cn/problem/P4377">https://www.luogu.com.cn/problem/P4377</a></p></li><li><p>é¢˜ç›®å¤§æ„ï¼šæ¯å¤´å¥¶ç‰›éƒ½æœ‰é‡é‡å€¼å’Œæ‰è‰ºå€¼ä¸¤ä¸ªå±æ€§ï¼Œç»™å®š n å¤´å¥¶ç‰›çš„é‡é‡å€¼ $w_i$ å’Œæ‰è‰ºå€¼ $t_i$ ï¼Œç°åœ¨ä½ å¯ä»¥ä»»æ„é€‰æ‹©å…¶ä¸­çš„å¥¶ç‰›ï¼Œä½¿å¾—é€‰å‡ºæ¥çš„å¥¶ç‰›æ€»é‡é‡å¤§äºç»™å®šå€¼ W(ä¿è¯æœ€åˆç»™å‡ºçš„ n å¤´æ€»é‡é‡çš„å’Œå¤§äº W)ï¼Œä¸”éœ€è¦è®©æ€»æ‰è‰ºå€¼å’Œæ€»é‡é‡çš„æ¯”å€¼å°½å¯èƒ½å¤§ã€‚</p></li><li><p>è¾“å…¥è¾“å‡ºï¼šç»™å®š nï¼ŒWï¼Œç„¶åæ¥ä¸‹æ¥ n è¡Œæ¯è¡Œç»™å‡ºè¿™å¤´å¥¶ç‰›çš„ $w_i,t_i(1\leq n\leq 250 , 1\leq W \leq 1000 , 1\leq w_i\leq 10^6 , 1\leq t_i \leq 10^3)$, è¾“å‡º ç­”æ¡ˆ*1000 å¹¶å‘ä¸‹å–æ•´çš„å€¼</p></li><li><p>æ ·ä¾‹</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼š</span><br><span class="line">3 15</span><br><span class="line">20 21</span><br><span class="line">10 11</span><br><span class="line">30 31</span><br><span class="line"></span><br><span class="line">è¾“å‡ºï¼š</span><br><span class="line">1066</span><br></pre></td></tr></table></figure></li><li><p>åˆ†æï¼šæœ¬é¢˜å°±æ˜¯åœ¨åˆ†æ•°è§„åˆ’çš„åŸºç¡€ä¸ŠåŠ ä¸Šäº†é€‰æ‹©çš„é™åˆ¶ï¼Œé‚£ä¹ˆå¦‚ä½•å¤„ç†é€‰æ‹©å‡ºçš„å¥¶ç‰›é‡é‡å’Œå¤§äº W å‘¢ï¼Ÿåœ¨æ­¤åŸºç¡€ä¸Šåˆå¦‚ä½•ç®—å‡ºæœ€å¤§æ¯”å€¼å‘¢ï¼Ÿ</p><ul><li>å¯¹äºæ¯”å€¼æˆ‘ä»¬æ²¡æ³•ç›´è§‚çš„è®¡ç®—ï¼Œé‚£ä¹ˆæˆ‘ä»¬ä½¿ç”¨åˆ†æ•°è§„åˆ’çš„æ€æƒ³å¯¹ç­”æ¡ˆè¿›è¡ŒäºŒåˆ†ï¼Œè¿™æ ·äºŒåˆ†å‡ºçš„ç­”æ¡ˆä¸€å®šæ˜¯æœ€å¤§çš„ï¼Œä½†è¿™æ ·ä¸€å®šå¯¹å—ï¼Ÿ</li><li>æœ¬é¢˜ä¸­é¦–å…ˆéœ€è¦æ»¡è¶³é‡é‡å’Œå¤§äº Wï¼Œè¿™ä¸ªä¼˜å…ˆçº§æ˜¯æœ€é«˜çš„ï¼Œæˆ‘ä»¬éœ€è¦åˆ¤æ–­æ»¡è¶³äºŒåˆ†å€¼çš„æ‰€æœ‰æ–¹æ¡ˆä¸­çš„æœ€å¤§é‡é‡æ˜¯å¦å¤§äº Wã€‚è¿™é‡Œæœ‰ç‚¹å›°éš¾ï¼Œå› ä¸ºæˆ‘ä»¬å¥½åƒæ²¡æ³•çŸ¥é“å…·ä½“çš„é€‰æ‹©æ–¹æ¡ˆã€‚ä½†æ˜¯æˆ‘ä»¬éœ€è¦çŸ¥é“å…·ä½“çš„æ–¹æ¡ˆå—ï¼Ÿå°±åƒæ±‚è§£èƒŒåŒ…é—®é¢˜çš„æ—¶å€™æˆ‘ä»¬æ ¹æœ¬ä¸å…³å¿ƒå…·ä½“çš„æ–¹æ¡ˆï¼Œæˆ‘ä»¬åªå…³å¿ƒæœ€ä¼˜çš„è§£æ˜¯å¤šå°‘</li><li>ä¸Šé¢ä»‹ç»åˆ†æ•°è§„åˆ’çš„æ—¶å€™å¦‚ä½•å–å€¼çš„æœ€ä¼˜è§£å‘¢ï¼Ÿæ»¡è¶³ $f_i -mid*g_i&gt;0$ å°±å–ï¼Œä½†åœ¨æœ¬é¢˜ä¸­å¦‚æœéƒ½è¿™æ ·å–ä¸ä¸€å®šæ»¡è¶³é‡é‡æ€»å’Œå¤§äº Wï¼Œåè¿‡æ¥è¯´å¦‚æœè¦ä¼˜å…ˆæ»¡è¶³é‡é‡å¤§äº Wï¼Œé‚£ä¹ˆè¦æŠ›å¼ƒè¿™ç§è´ªå¿ƒçš„é€‰æ³•</li><li>å¯¹äº $f_i - mid * g_i$ è¿™ä¸ªå¼å­ç”¨æœ¬é¢˜çš„å˜é‡åå­—å°±æ˜¯ $t_i - mid * w_i$ ï¼Œæˆ‘ä»¬åªéœ€è·‘ä¸€è¾¹ 01 èƒŒåŒ…å³å¯ï¼Œé‚£ä¹ˆä¸Šå¼å°±æ˜¯æ¯ä¸ªç‰©å“çš„è´¡çŒ®ã€‚dp æ—¶å¯¹äºé‡é‡å¤§äºç­‰äº W çš„éƒ½ç®—åœ¨ dp[W]ä¸Š(å– maxï¼Œå› ä¸ºæˆ‘ä»¬åªéœ€çœ‹ W çš„æƒ…å†µ)ï¼Œé‚£ä¹ˆæœ€ååªéœ€è¦åˆ¤æ–­ dp[W]æ˜¯å¦å¤§äºç­‰äºé›¶å³å¯</li></ul></li><li><p>ä»£ç </p></li></ul><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="type">const</span> <span class="type">int</span> N=<span class="number">260</span>,M=<span class="number">1010</span>;</span><br><span class="line"><span class="type">int</span> n,m,w[N],t[N];</span><br><span class="line"><span class="type">double</span> res,f[N],dp[<span class="number">10</span>*M];</span><br><span class="line"><span class="function"><span class="type">bool</span> <span class="title">check</span><span class="params">(<span class="type">double</span> u)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=n;i++) f[i]=(<span class="type">double</span>)t[i]-u*w[i];</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;M;i++) dp[i]=<span class="number">-1e5</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=n;i++)</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> j=m;j&gt;=<span class="number">0</span>;j--)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span>(j+w[i]&gt;m) dp[m]=<span class="built_in">max</span>(dp[m],dp[j]+f[i]); <span class="comment">// å¤§äºmçš„éƒ½ç®—åœ¨mä¸Š,å¦åˆ™å¯èƒ½ä¼šçˆ†ç©ºé—´</span></span><br><span class="line">        <span class="keyword">else</span> dp[j+w[i]]=<span class="built_in">max</span>(dp[j+w[i]],dp[j]+f[i]);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> dp[m]&gt;=<span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    ios::<span class="built_in">sync_with_stdio</span>(<span class="literal">false</span>);cin.<span class="built_in">tie</span>(<span class="number">0</span>);cout.<span class="built_in">tie</span>(<span class="number">0</span>);</span><br><span class="line">    cin&gt;&gt;n&gt;&gt;m;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=n;i++) cin&gt;&gt;w[i]&gt;&gt;t[i];</span><br><span class="line">    <span class="type">double</span> l=<span class="number">0</span>,r=<span class="number">3e5</span>;</span><br><span class="line">    <span class="keyword">while</span>(r-l&gt;<span class="number">1e-5</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="type">double</span> mid=(<span class="type">double</span>)(l+r)/<span class="number">2</span>;</span><br><span class="line">        <span class="keyword">if</span>(<span class="built_in">check</span>(mid)) l=mid;</span><br><span class="line">        <span class="keyword">else</span> r=mid;</span><br><span class="line">    &#125;</span><br><span class="line">    cout&lt;&lt;(<span class="type">int</span>)(<span class="number">1000</span>*l);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> ç®—æ³• </category>
          
      </categories>
      
      
        <tags>
            
            <tag> c++ </tag>
            
            <tag> ç®—æ³• </tag>
            
        </tags>
      
    </entry>
    
    
  
  
</search>
